Issue Type,Summary,Description,Custom field (Story Points),Version,Contributors,Developer_Rank,Developer_commits,Developer_created_MRs,Developer_modified_files,Developer_commits_reviews,Developer_updated_MRs,Developer_fixed_defects,Developer_ARs,Tester_detected_defects,Tester_ARs,Creator_ARs,Version_encoded
Story,Simplify Central SSO: eliminate ext token validation end-point,"Instead of requiring that clients first validate tokens obtained from an external ""Central SSO"" system, when Usergrid is configured for using Central SSO, it should attempt to verify any unknown token itself.

This can be implemented by moving the validate external token logic from the ManagementResource and into the TokenService.",3.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.5238095238095237,0.5909090909090909,0.2647058823529412,0.3614457831325302,0.3614457831325302,0.0
Story,Add smtp message-id to logs,"Add message-id to the smtp logs.

http://stackoverflow.com/questions/5555119/sending-email-using-smtp-and-setting-the-message-id

This will help us track whether usergrid is failing to send registration email or if it is the mail service. There also needs to be additional logging enabled to track what stages the emails goes through if it is needed.",3.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,0.14705882352941177,0.44578313253012053,0.44578313253012053,0.0
Story,Error occuring when clicking link to activate organization,"Getting an email when trying to activate an organization:
{""error"":""unauthorized"",""timestamp"":1405399644281,""duration"":0,""exception"":""org.apache.usergrid.rest.exceptions.SecurityException"",""error_description"":""No organization access authorized""}
Steps to reproduce - sign up for an account, then click activation link in email that goes to sys admin

When the link is clicked then the following message pops up. Ideally it should be a rest response that denotes show the activation was successful.",3.0,"2.1.0,1.0.0",0.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,0.14705882352941177,0.44578313253012053,0.44578313253012053,0.745049504950495
Story,Fix AwsAssetResourceIT,Fix all the broken asset tests,3.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,0.14705882352941177,0.44578313253012053,0.44578313253012053,0.0
Story,Create 2.1 Release for Apache,We need to create a 2.1 release for Apache.  Would be nice to have a binary WAR distribution.,3.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.5238095238095237,0.5909090909090909,1.0,1.0000000000000002,1.0000000000000002,0.0
Story,Ensure that PUT or POST does not create duplicate org association connections. ,"Doing PUT creates a duplicate edge on /management/orgs/org/users/email

for existing users who were already on the org, the POST command to /management/orgs/org/users/email creates a duplicate edge
",2.0,2.2.0,0.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,0.14705882352941177,0.44578313253012053,0.44578313253012053,1.0
Story,Add DELETE for Admin Users,"- Will need superuser credentials.
- Will delete admin user.
- Will remove all connections from said admin user. ( might automatically be done. needs verifying. ) 
-Verify can be recreated
",2.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,0.14705882352941177,0.44578313253012053,0.44578313253012053,0.0
Story,Fix EventsResource and IT,"The EventsResource was broken during two-dot-o development and the tests in EventsResourceIT were marked ignore.

Fix the EventsResource and re-enable the tests.",3.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,0.2647058823529412,0.3614457831325302,0.3614457831325302,0.0
Story,Fix test: clientCredentialsFlowWithHeaderAuthorization(),"Currently this test is ignored in Usergrid master branch:
ApplicationResourceIT.clientCredentialsFlowWithHeaderAuthorization()

If it is still relevant we should fix it and un-ignore it.",3.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.5238095238095237,0.5909090909090909,0.2647058823529412,0.3614457831325302,0.3614457831325302,0.0
Story,Unique Value Cleanup in 2.1 - cleaning up old columns for old versions,"Ensure code makes it in to prevent wide rows in unique_values CF due to old versions not getting cleaned up
",3.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,1.0000000000000002,1.0000000000000002,0.0
Story,Create a per app migration script,"Create a python script that will allow users to upgrade from 2.0 to 2.1 per application.  This will ultimately allow an incremental deployment across an existing 2.0 cluster, without user impact.  

Template for full system script that already exists: https://github.com/apache/usergrid/blob/2.1-release/stack/scripts/migrate_entity_data.py

It should allow for the following migration process:

tenant 1
1) setup new 2.1 tomcat
2) run migration bootstrap
3) migrate appinfo
4) reindex mgmt app only
5) run de-dup for whatever APP
6) reindex whatever APP
7) add 2.1 tomcats to customer ELB after 1-6 completed for all customer apps
8) run delta re-index/migration for all customer apps


tenant 2
1) reset appinfo version
2) migrate app info
3) reindex mgmt app
4) run de-dup for whatever APP
5) reindex whatever app
7) add 2.1 tomcats to customer ELB after 1-6 completed for all customer apps
8) run delta re-index/migration for all customer apps


after all apps migration
1) migrate entity data

",2.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.5238095238095237,0.5909090909090909,0.3529411764705882,0.5301204819277109,0.5301204819277109,0.0
Story,Ability to generate a master Jacoco coverage report,"In addition to separate Jacoco reports for each module, we should also be able to generate a master Jacoco report.",3.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.5238095238095237,0.5909090909090909,0.2647058823529412,0.3614457831325302,0.3614457831325302,0.0
Story,When ElasticSearch rejects a Search request Usergrid should not return 200 OK with an empty array,Currently if the search queue is full a 200 response is returned with an empty entity array.,1.0,2.1.0,1.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,1.0,1.0000000000000002,1.0000000000000002,0.9950495049504949
Story,When reading messages from SQS an elevated consistency may be needed with latent replication,"Occasionally Cassandra multi-region replication lags during high load.  During this high load, messages fail to process because it cannot read the entity from Cassandra.  Rather than fail, we should retry with a high consistency level of quorum in all regions to ensure we replicate the data correctly.
",3.0,0,0.0,0.9505494505494506,0.932258064516129,0.8133333333333334,0.9656816015252622,0.0,0.7848101265822784,0.5714285714285714,0.5909090909090909,0.3529411764705882,0.5301204819277109,0.5301204819277109,0.0
Story,Fix NoAwsCreds rule to work outside of core. ,The no aws creds rule call doesn't work outside of core. It fails in service and rest when using the one based in core. ,2.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,0.14705882352941177,0.44578313253012053,0.44578313253012053,0.0
Bug,"When PUTing by uuid or name, add the entry into entity_id_sets column family","When a PUT occurs in 1.0, then entry to Entity_Id_Sets is not re-inserted.  We need to ensure it is re-written.
",3.0,1.0.2,0.0,0.9505494505494506,0.932258064516129,0.8133333333333334,0.9656816015252622,0.0,0.7848101265822784,0.5714285714285714,0.5909090909090909,0.3529411764705882,0.5301204819277109,0.5301204819277109,0.49514851485148514
Story,Create a job to remove duplicate connections and fix connection write logic,"A bug in 2.0 has led to multiple edges on a connection.  We need a job that scans all connections, and keeps the lowest timestamp on the connection.  Other edges should be deleted.
",3.0,2.0.0,0.0,0.9505494505494506,0.932258064516129,0.8133333333333334,0.9656816015252622,0.0,0.7848101265822784,0.5714285714285714,0.5909090909090909,0.3529411764705882,0.5301204819277109,0.5301204819277109,0.9900990099009901
Story,Create a job to clean unused edges,"We need a system job that audits edges and ensures they point to an entity.  If not, the edge should be removed.",3.0,0,0.0,0.9505494505494506,0.932258064516129,0.8133333333333334,0.9656816015252622,0.0,0.7848101265822784,0.5714285714285714,0.5909090909090909,0.3529411764705882,0.5301204819277109,0.5301204819277109,0.0
Story,Remove UUID field encoding in our ES fields,"We shouldn't encode a UUID as a specific UUID field type, since we're encoding it as a string.  To keep our index tuples simple, and support both queries, we should store it as a string type.  We should support the following formats.

{code}
select * where myUuid = 'aaa65d8a-16a6-11e5-86ea-7b4f7ff44431'
{code}

As well as 

{code}
select * where myUuid = aaa65d8a-16a6-11e5-86ea-7b4f7ff44431
{code}

Notice the addition of single quotes in the first query, vs the parsing as a UUID type in the second query.  This will enable users to use both versions, but does not affect performance.
",3.0,0,1.0,1.0,1.0,1.0,1.0,0.0,1.0,0.3333333333333333,0.4090909090909091,0.3529411764705882,0.5301204819277109,0.5301204819277109,0.0
Story,get apm/apigeeMobileConfig throws exception when its not set,"2015-09-04 22:34:01,420 [http-bio-8080-exec-22] ERROR org.apache.usergrid.rest.exceptions.AbstractExceptionMapper- Uncaught Exception
java.lang.IllegalArgumentException: JSON source MUST not be null
        at com.sun.jersey.api.json.JSONWithPadding.<init>(JSONWithPadding.java:90)
        at org.apache.usergrid.rest.applications.ApplicationResource.getAPMConfig(ApplicationResource.java:613)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:483)
        at com.sun.jersey.spi.container.JavaMethodInvokerFactory$1.invoke(JavaMethodInvokerFactory.java:60)
        at com.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$TypeOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:185)
        at com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75)
        at com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:302)
        at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
        at com.sun.jersey.server.impl.uri.rules.SubLocatorRule.accept(SubLocatorRule.java:137)
        at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
        at com.sun.jersey.server.impl.uri.rules.SubLocatorRule.accept(SubLocatorRule.java:137)
        at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
        at com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108)
        at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
        at com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84)
        at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1542)
        at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1473)
        at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1419)
        at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1409)
        at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:409)
        at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:558)
        at com.sun.jersey.spi.container.servlet.ServletContainer.doFilter(ServletContainer.java:927)
        at com.sun.jersey.spi.container.servlet.ServletContainer.doFilter(ServletContainer.java:875)
        at com.sun.jersey.spi.container.servlet.ServletContainer.doFilter(ServletContainer.java:829)
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
        at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449)
        at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365)
        at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90)
        at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83)
        at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383)
        at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362)
        at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)
        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343)
        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260)
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
        at org.apache.usergrid.rest.filters.ContentTypeFilter.doFilter(ContentTypeFilter.java:92)
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:503)
        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
        at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
        at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1070)
        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
        at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)",3.0,0,0.0,1.0,1.0,1.0,1.0,0.0,1.0,0.3333333333333333,0.4090909090909091,0.3529411764705882,0.28915662650602414,0.28915662650602414,0.0
Story,Separate database system and system bootstrap,"A call to /system/database/setup currently performs a database setup, ES setup, and then proceeds to migrate data.  This should be split into 2 separate events.  They should be the following.

 /system/database/setup creates all column families and ES indexes

/system/database/bootstrap 
runs a datamigration manager, then  creates all bootstrap data required for usergrid to function",3.0,0,0.0,0.9505494505494506,0.932258064516129,0.8133333333333334,0.9656816015252622,0.0,0.7848101265822784,0.5714285714285714,0.5909090909090909,0.3529411764705882,0.5301204819277109,0.5301204819277109,0.0
Story,Style generated Docs like the Website,"Currently our Sphinx-generated docs adopt the look and feel of the ReadTheDocs website, which is not bad but it does not look like the rest of our website. 

We should style the docs so that the use the same header and footer as our existing website and use the same colors, fonts, etc.",3.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.5238095238095237,0.5909090909090909,0.2647058823529412,0.3614457831325302,0.3614457831325302,0.0
Story,Create a tool with the capability to wipe an application from Cassandra,"Given an App ID, we need to be able to wipe the data from Cassandra.  This can be standalone.",3.0,0,1.0,1.0,1.0,1.0,1.0,0.0,1.0,0.3333333333333333,0.4090909090909091,1.0,1.0000000000000002,1.0000000000000002,0.0
Story,Include distances in geoquery responses,"The best place for this would be in the metadata of the results, in metadata.distance perhaps.",3.0,0,1.0,1.0,1.0,1.0,1.0,0.0,1.0,0.3333333333333333,0.4090909090909091,1.0,1.0000000000000002,1.0000000000000002,0.0
Story,Remove duplicate add to collection on write path,Todd's spaghetti comments on write path which results in 2x writes to cassandra ops.,3.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,1.0,1.0000000000000002,1.0000000000000002,0.0
Story,Upgrade Shiro to be current version,"In order to support NIO.  Current version is ancient.

",1.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.5238095238095237,0.5909090909090909,1.0,1.0000000000000002,1.0000000000000002,0.0
Bug,Batch interval in seconds not honored,"The following property is present in the configuration of counter batch submits.

{code}
usergrid.counter.batch.interval=30
{code}

This is not honored.  This needs fixed in the 2.0 and 2.1 branch.",3.0,0,0.0,0.9505494505494506,0.932258064516129,0.8133333333333334,0.9656816015252622,0.0,0.7848101265822784,0.5714285714285714,0.5909090909090909,0.3529411764705882,0.5301204819277109,0.5301204819277109,0.0
Story,Unable to do case sensitive queries using '=',"Lets say you have two values {""name"":""cow""} and {""name"":""Cow""}
When you do a query on name = ""cow"".

We get both ""cow"" and ""Cow"" back in the results. Equals should be a case sensitive search. ergo we should only be returning ""cow""",3.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,0.14705882352941177,0.44578313253012053,0.44578313253012053,0.0
Story,Fix CorePersistant Properties and Stack Properties to not overlap when using Aws SDK,They both use the AWS sdk but have the possibility to use different versions. This possibility should be eliminated in the future by consolidating which sdk is pulled.,2.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.14705882352941177,0.44578313253012053,0.44578313253012053,0.0
Bug,Re-index using AmazonAsyncEventService should support updated date,"see implemented example for InMemoryAsyncEventService

org/apache/usergrid/corepersistence/asyncevents/EventBuilderImpl.java:166

This filters out based on modified/updated date for the events to be indexed.  Need to ensure AmazonAsyncEventService consumers implement something similar OR look to have the producer filter out the events and not even drop on the AWS queues.",3.0,0,1.0,0.9505494505494506,0.932258064516129,0.8133333333333334,0.9656816015252622,0.0,0.7848101265822784,0.5714285714285714,0.5909090909090909,0.08823529411764705,0.07228915662650603,0.07228915662650603,0.0
Story,Start Usergrid graduation process,"1. update status page to include all users
2. create DRAFT Top Level Project resolution
3. start discussion on dev list",3.0,1.0.2,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.5238095238095237,0.5909090909090909,0.2647058823529412,0.3614457831325302,0.3614457831325302,0.49514851485148514
Story,[SPIKE] Review 'ignored tests',Hopefully there's nothing bad in there.,3.0,"2.2.0,2.1.0",1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.5238095238095237,0.5909090909090909,1.0,1.0000000000000002,1.0000000000000002,0.9975247524752474
Bug,Fix and prune Usergrid tools in 2.1,"The Usergrid tools are broken in a variety of ways in the two-dot-o and two-dot-o-dev brands. The tools do not compile. Many rely on outdated 1.0 concepts. Many are obsolete.

1. Delete any obsolete tools
2. Make all tools compile",3.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.5238095238095237,0.5909090909090909,0.2647058823529412,0.3614457831325302,0.3614457831325302,0.0
Story,Confirm that using where tokens in queries works in 2.1 ,Doesn't work in 2.0 but can't reproduce in 2.1. Try to reproduce. ,1.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,0.14705882352941177,0.44578313253012053,0.44578313253012053,0.0
Story,QL for contains 'text*' does not appear to work,"select * where title contains 'ta*' does not work (at all) as documented here:
http://apigee.com/docs/app-services/content/working-queries",3.0,2.1.0,1.0,1.0,1.0,1.0,1.0,0.0,1.0,0.3333333333333333,0.4090909090909091,1.0,1.0000000000000002,1.0000000000000002,0.9950495049504949
Story,ImportAdmins tool should merge organizations of duplicate users,"Some older Usergrid systems may have multiple accounts with the same username or email address, something which is not allowed and problematic now. 

When such users are imported into a new system by the ImportAdmins program we can ""repair"" such users by merging the duplicates and ensure that the resulting single user account has the union of organization in the one or more duplicate users.",3.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.5238095238095237,0.5909090909090909,0.2647058823529412,0.3614457831325302,0.3614457831325302,0.0
Story,Complete Multi Region ES management implementation,"When indexes are created on setup, as well as aliases assigned on application creation, this is only performed in the local region.  We need to create indexes in all regions during an index administration operation, as well as create aliases. 

We will also probably want to make our aliases and underlying indexes identical, in order to allow for ease of administration regardless of region.

We need to account for two cases:
1) Secondary region does not already have ES indexes configured - need to create the indexes and aliases
2) Secondary region already has ES installed and configured (indexes existing) - only need to create aliases
",1.0,0,1.0,1.0,1.0,1.0,1.0,0.0,1.0,0.3333333333333333,0.4090909090909091,0.3529411764705882,0.5301204819277109,0.5301204819277109,0.0
Story,Implement the ability to track the storage used by an app,Depends on counters getting fixed,3.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,1.0000000000000002,1.0000000000000002,0.0
Story,New ExportApp tool,"Provide new tool that exports an app:
1. Writes two types of files: entities and connections
2. Each line of output files will be one complete JSON object
3. Use RxJava for multithreading of reads and of writes",1.0,1.0.2,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.5238095238095237,0.5909090909090909,0.2647058823529412,0.3614457831325302,0.3614457831325302,0.49514851485148514
Bug,Unable to run 2.0 to 2.1 data migration on large data set.,"Attempted to run entity data migration in (UG 2.0 to UG 2.1 ) with a instance having 1.1 million entities in a single collection, within a single application.  This causes the following exception on cassandra:

{code}
ERROR [ReadStage:16] 2015-07-02 23:33:29,720 SliceQueryFilter.java (line 206) Scanned over 100000 tombstones in ug_migrate_test.Graph_Source_Node_Edges; query aborted (see tombstone_failure_threshold)
ERROR [ReadStage:27] 2015-07-02 23:33:39,723 SliceQueryFilter.java (line 206) Scanned over 100000 tombstones in ug_migrate_test.Graph_Source_Node_Edges; query aborted (see tombstone_failure_threshold)
ERROR [ReadStage:27] 2015-07-02 23:33:39,723 CassandraDaemon.java (line 258) Exception in thread Thread[ReadStage:27,5,main]
java.lang.RuntimeException: org.apache.cassandra.db.filter.TombstoneOverwhelmingException
	at org.apache.cassandra.service.StorageProxy$DroppableRunnable.run(StorageProxy.java:2016)
	at 
{code}



which results in the following exception in usergrid:

{code}
2015-07-02 23:33:59,680 [Index migrate data formats] ERROR org.apache.usergrid.rest.MigrateResource- Unable to migrate data
java.lang.RuntimeException: Unable to connect to casandra
	at org.apache.usergrid.persistence.core.astyanax.MultiRowColumnIterator.advance(MultiRowColumnIterator.java:190)
	at org.apache.usergrid.persistence.core.astyanax.MultiRowColumnIterator.hasNext(MultiRowColumnIterator.java:122)
	at org.apache.usergrid.persistence.graph.serialization.impl.shard.impl.ShardsColumnIterator.hasNext(ShardsColumnIterator.java:65)
	at org.apache.usergrid.persistence.graph.serialization.impl.shard.impl.ShardGroupColumnIterator.advance(ShardGroupColumnIterator.java:120)
	at org.apache.usergrid.persistence.graph.serialization.impl.shard.impl.ShardGroupColumnIterator.hasNext(ShardGroupColumnIterator.java:68)
	at org.apache.usergrid.persistence.core.rx.ObservableIterator.call(ObservableIterator.java:66)
	at org.apache.usergrid.persistence.core.rx.ObservableIterator.call(ObservableIterator.java:38)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable.unsafeSubscribe(Observable.java:7495)
	at rx.internal.operators.OperatorMerge$MergeSubscriber.handleNewSource(OperatorMerge.java:215)
	at rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(OperatorMerge.java:185)
	at rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(OperatorMerge.java:120)
	at rx.internal.operators.OperatorMap$1.onNext(OperatorMap.java:55)
	at rx.internal.operators.OperatorDoOnEach$1.onNext(OperatorDoOnEach.java:84)
	at org.apache.usergrid.persistence.core.rx.ObservableIterator.call(ObservableIterator.java:71)
	at org.apache.usergrid.persistence.core.rx.ObservableIterator.call(ObservableIterator.java:38)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable.unsafeSubscribe(Observable.java:7495)
	at rx.internal.operators.OperatorMerge$MergeSubscriber.handleNewSource(OperatorMerge.java:215)
	at rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(OperatorMerge.java:185)
	at rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(OperatorMerge.java:120)
	at rx.internal.operators.OnSubscribeFromIterable$IterableProducer.request(OnSubscribeFromIterable.java:96)
	at rx.Subscriber.setProducer(Subscriber.java:177)
	at rx.internal.operators.OnSubscribeFromIterable.call(OnSubscribeFromIterable.java:47)
	at rx.internal.operators.OnSubscribeFromIterable.call(OnSubscribeFromIterable.java:33)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable.unsafeSubscribe(Observable.java:7495)
	at rx.internal.operators.OperatorMerge$MergeSubscriber.handleNewSource(OperatorMerge.java:215)
	at rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(OperatorMerge.java:185)
	at rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(OperatorMerge.java:120)
	at rx.internal.operators.OperatorMap$1.onNext(OperatorMap.java:55)
	at rx.internal.operators.OperatorMerge$InnerSubscriber.emit(OperatorMerge.java:676)
	at rx.internal.operators.OperatorMerge$InnerSubscriber.onNext(OperatorMerge.java:586)
	at rx.internal.operators.OperatorMerge$InnerSubscriber.emit(OperatorMerge.java:676)
	at rx.internal.operators.OperatorMerge$InnerSubscriber.onNext(OperatorMerge.java:586)
	at rx.internal.operators.OperatorMap$1.onNext(OperatorMap.java:55)
	at rx.internal.operators.OperatorFilter$1.onNext(OperatorFilter.java:54)
	at rx.internal.operators.OperatorDoOnEach$1.onNext(OperatorDoOnEach.java:84)
	at rx.internal.operators.OperatorMerge$MergeSubscriber.handleScalarSynchronousObservableWithRequestLimits(OperatorMerge.java:280)
	at rx.internal.operators.OperatorMerge$MergeSubscriber.handleScalarSynchronousObservable(OperatorMerge.java:243)
	at rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(OperatorMerge.java:176)
	at rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(OperatorMerge.java:120)
	at rx.internal.operators.OperatorMap$1.onNext(OperatorMap.java:55)
	at rx.internal.operators.OperatorDoOnEach$1.onNext(OperatorDoOnEach.java:84)
	at org.apache.usergrid.persistence.collection.impl.EntityCollectionManagerImpl$1.call(EntityCollectionManagerImpl.java:248)
	at org.apache.usergrid.persistence.collection.impl.EntityCollectionManagerImpl$1.call(EntityCollectionManagerImpl.java:240)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable.unsafeSubscribe(Observable.java:7495)
	at rx.internal.operators.OperatorMerge$MergeSubscriber.handleNewSource(OperatorMerge.java:215)
	at rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(OperatorMerge.java:185)
	at rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(OperatorMerge.java:120)
	at rx.internal.operators.OperatorMap$1.onNext(OperatorMap.java:55)
	at rx.internal.operators.OperatorDoOnEach$1.onNext(OperatorDoOnEach.java:84)
	at rx.internal.operators.OperatorMerge$InnerSubscriber.emit(OperatorMerge.java:676)
	at rx.internal.operators.OperatorMerge$InnerSubscriber.onNext(OperatorMerge.java:586)
	at rx.internal.operators.OperatorFilter$1.onNext(OperatorFilter.java:54)
	at rx.internal.operators.OnSubscribeFromIterable$IterableProducer.request(OnSubscribeFromIterable.java:96)
	at rx.Subscriber.setProducer(Subscriber.java:177)
	at rx.Subscriber.setProducer(Subscriber.java:171)
	at rx.internal.operators.OnSubscribeFromIterable.call(OnSubscribeFromIterable.java:47)
	at rx.internal.operators.OnSubscribeFromIterable.call(OnSubscribeFromIterable.java:33)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable.unsafeSubscribe(Observable.java:7495)
	at rx.internal.operators.OperatorMerge$MergeSubscriber.handleNewSource(OperatorMerge.java:215)
	at rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(OperatorMerge.java:185)
	at rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(OperatorMerge.java:120)
	at rx.internal.operators.OperatorMap$1.onNext(OperatorMap.java:55)
	at rx.internal.operators.OperatorBufferWithSize$1.onCompleted(OperatorBufferWithSize.java:119)
	at org.apache.usergrid.persistence.core.rx.ObservableIterator.call(ObservableIterator.java:75)
	at org.apache.usergrid.persistence.core.rx.ObservableIterator.call(ObservableIterator.java:38)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable.unsafeSubscribe(Observable.java:7495)
	at rx.internal.operators.OperatorMerge$MergeSubscriber.handleNewSource(OperatorMerge.java:215)
	at rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(OperatorMerge.java:185)
	at rx.internal.operators.OperatorMerge$MergeSubscriber.onNext(OperatorMerge.java:120)
	at rx.internal.operators.OnSubscribeFromIterable$IterableProducer.request(OnSubscribeFromIterable.java:96)
	at rx.Subscriber.setProducer(Subscriber.java:177)
	at rx.internal.operators.OnSubscribeFromIterable.call(OnSubscribeFromIterable.java:47)
	at rx.internal.operators.OnSubscribeFromIterable.call(OnSubscribeFromIterable.java:33)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable.unsafeSubscribe(Observable.java:7495)
	at rx.internal.operators.OperatorSubscribeOn$1$1.call(OperatorSubscribeOn.java:62)
	at rx.internal.schedulers.ScheduledAction.run(ScheduledAction.java:55)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.netflix.astyanax.connectionpool.exceptions.OperationTimeoutException: OperationTimeoutException: [host=10.16.4.135(10.16.4.135):9160, latency=5001(30012), attempts=6]TimedOutException()
	at com.netflix.astyanax.thrift.ThriftConverter.ToConnectionPoolException(ThriftConverter.java:171)
	at com.netflix.astyanax.thrift.AbstractOperationImpl.execute(AbstractOperationImpl.java:65)
	at com.netflix.astyanax.thrift.AbstractOperationImpl.execute(AbstractOperationImpl.java:28)
	at com.netflix.astyanax.thrift.ThriftSyncConnectionFactoryImpl$ThriftConnection.execute(ThriftSyncConnectionFactoryImpl.java:151)
	at com.netflix.astyanax.connectionpool.impl.AbstractExecuteWithFailoverImpl.tryOperation(AbstractExecuteWithFailoverImpl.java:119)
	at com.netflix.astyanax.connectionpool.impl.AbstractHostPartitionConnectionPool.executeWithFailover(AbstractHostPartitionConnectionPool.java:338)
	at com.netflix.astyanax.thrift.ThriftColumnFamilyQueryImpl$4.execute(ThriftColumnFamilyQueryImpl.java:532)
	at org.apache.usergrid.persistence.core.astyanax.MultiRowColumnIterator.advance(MultiRowColumnIterator.java:187)
	... 146 more
Caused by: TimedOutException()
	at org.apache.cassandra.thrift.Cassandra$multiget_slice_result.read(Cassandra.java:10480)
	at org.apache.thrift.TServiceClient.receiveBase(TServiceClient.java:78)
	at org.apache.cassandra.thrift.Cassandra$Client.recv_multiget_slice(Cassandra.java:673)
	at org.apache.cassandra.thrift.Cassandra$Client.multiget_slice(Cassandra.java:657)
	at com.netflix.astyanax.thrift.ThriftColumnFamilyQueryImpl$4$1.internalExecute(ThriftColumnFamilyQueryImpl.java:538)
	at com.netflix.astyanax.thrift.ThriftColumnFamilyQueryImpl$4$1.internalExecute(ThriftColumnFamilyQueryImpl.java:535)
	at com.netflix.astyanax.thrift.AbstractOperationImpl.execute(AbstractOperationImpl.java:60)
	... 152 more
{code}",3.0,0,1.0,0.9505494505494506,0.932258064516129,0.8133333333333334,0.9656816015252622,0.0,0.7848101265822784,0.5714285714285714,0.5909090909090909,0.08823529411764705,0.07228915662650603,0.07228915662650603,0.0
Bug,Limit on Queries results in a highly variable number of results,"This behavior is observed on a build from the two-dot-o branch with commit ID 2d1c8b8ac7b20b63a11d83adca56839d8b409cca.

For example, limit=2 gives you 1 sometimes, limit=750 gives anywhere from 625 to 749.  For example this script:

{code}
#!/bin/bash
for count in `seq 1 10`
do 
    curl -s ""https://example.com/appservices/testorg/sandbox/scmocks?limit=750"" > file${count}
    grep uuid file${count} | wc
    rm file${count}
done
{code}

Produces these results:

     685    2055   36305
     750    2250   39750
     749    2247   39697
     742    2226   39326
     750    2250   39750
     749    2247   39697
     747    2241   39591
     744    2232   39432
     750    2250   39750
     749    2247   39697

A different count every time.
",3.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.5238095238095237,0.5909090909090909,1.0,1.0000000000000002,1.0000000000000002,0.0
Story,Add a separate email address for approving new Org Admin users which can be different from approving new Orgs,"Currently the email address appears to be the same for approving new orgs and new admins.  We need a separate configurable email address for each.

If this setting is blank, the admin email can be used instead.

This needs to be fixed in 2.0 as well as 2.1.  2.0 first please :)",3.0,0,1.0,1.0,1.0,1.0,1.0,0.0,1.0,0.3333333333333333,0.4090909090909091,1.0,1.0000000000000002,1.0000000000000002,0.0
Bug,WebApplicationException / Uncaught Exception embarassment,"The following exception is returned for many cases, including a parse error and if an endpoint doesn't support the attempted HTTP method.  We need more descriptive messages in these cases.

{""error"":""web_application"",""timestamp"":1435156493000,""duration"":0,""exception"":""javax.ws.rs.WebApplicationException""}",3.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,1.0,1.0000000000000002,1.0000000000000002,0.0
Story,Validate JMX Meters / Timers are the ones we want to be in place for measuring/monitoring performance,Validate JMS Meters / Timers are the ones we want to be in place for measuring/monitoring performance,3.0,0,1.0,0.9505494505494506,0.932258064516129,0.8133333333333334,0.9656816015252622,0.0,0.7848101265822784,0.5714285714285714,0.5909090909090909,1.0,1.0000000000000002,1.0000000000000002,0.0
Story,Instance Validation Script,We need a script which does testing of a Usergrid instance to confirm a set of functionality works.,2.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.030303030303030304,1.0,1.0000000000000002,1.0000000000000002,0.0
Story,Merge master to two-dot-o branches & rewrite tests to use new framework,There's one new test from master that needs to be rewritten using the new framework: ApplicationResourceIT.applicationCollectionWithAppToken(),2.0,2.1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.5238095238095237,0.5909090909090909,0.2647058823529412,0.3614457831325302,0.3614457831325302,0.9950495049504949
Bug,SNS Topic/Queue Implementation should use the Topics.subscribe helper methid,There is a helper method which should be used to subscribe SQS queues to SNS topics.,2.0,0,0.0,0.27472527472527475,0.1693548387096774,0.18666666666666668,0.25166825548141086,0.0,0.0,0.2857142857142857,0.16666666666666669,1.0,1.0000000000000002,1.0000000000000002,0.0
Bug,Exception on system/database/setup,throws duplicate unique key exception on managementserviceimpl,2.0,0,0.0,1.0,1.0,1.0,1.0,0.0,1.0,0.3333333333333333,0.4090909090909091,0.3529411764705882,0.28915662650602414,0.28915662650602414,0.0
Bug,[FIXED?] NPE in CpEntityManager.validate,"Need to be investigated before 2.1 release.

2015-06-16 22:47:20,361 [http-bio-8080-exec-7] ERROR org.apache.usergrid.corepersistence.CpEntityManager- Unable to load entity saparticles-fixed:e466f39a-cb97-11e4-b30c-f7cc05dca022
java.lang.NullPointerException
	at org.apache.usergrid.corepersistence.CpEntityManager.validate(CpEntityManager.java:956)
	at org.apache.usergrid.corepersistence.CpEntityManager.validate(CpEntityManager.java:942)
	at org.apache.usergrid.corepersistence.CpEntityManager.updateProperties(CpEntityManager.java:1030)
	at org.apache.usergrid.services.AbstractService.updateEntity(AbstractService.java:456)
	at org.apache.usergrid.services.AbstractService.updateEntity(AbstractService.java:444)
	at org.apache.usergrid.services.AbstractCollectionService.putItemByName(AbstractCollectionService.java:305)
	at org.apache.usergrid.services.AbstractService.invokeItemWithName(AbstractService.java:677)
	at org.apache.usergrid.services.AbstractService.invoke(AbstractService.java:628)
	at org.apache.usergrid.services.AbstractService.invoke(AbstractService.java:544)
	at org.apache.usergrid.services.ServiceRequest.execute(ServiceRequest.java:226)
	at org.apache.usergrid.services.ServiceRequest.execute(ServiceRequest.java:193)
	at org.apache.usergrid.rest.applications.ServiceResource.executeServiceRequest(ServiceResource.java:251)
	at org.apache.usergrid.rest.applications.ServiceResource.executePutWithMap(ServiceResource.java:371)
	at org.apache.usergrid.rest.applications.ServiceResource.executePut(ServiceResource.java:420)
	at sun.reflect.GeneratedMethodAccessor167.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at com.sun.jersey.spi.container.JavaMethodInvokerFactory$1.invoke(JavaMethodInvokerFactory.java:60)
	at com.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$TypeOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:185)
	at com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75)
	at com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:302)
	at com.sun.jersey.server.impl.uri.rules.SubLocatorRule.accept(SubLocatorRule.java:137)
	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
	at com.sun.jersey.server.impl.uri.rules.SubLocatorRule.accept(SubLocatorRule.java:137)
	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
	at com.sun.jersey.server.impl.uri.rules.SubLocatorRule.accept(SubLocatorRule.java:137)
	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
	at com.sun.jersey.server.impl.uri.rules.SubLocatorRule.accept(SubLocatorRule.java:137)
	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
	at com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108)
	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
	at com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84)
	at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1542)
	at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1473)
	at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1419)
	at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1409)
	at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:409)
	at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:540)
	at com.sun.jersey.spi.container.servlet.ServletContainer.doFilter(ServletContainer.java:909)
	at com.sun.jersey.spi.container.servlet.ServletContainer.doFilter(ServletContainer.java:857)
	at com.sun.jersey.spi.container.servlet.ServletContainer.doFilter(ServletContainer.java:811)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449)
	at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365)
	at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90)
	at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83)
	at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383)
	at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362)
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:259)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.usergrid.rest.filters.ContentTypeFilter.doFilter(ContentTypeFilter.java:92)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:503)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1070)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)",3.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,1.0000000000000002,1.0000000000000002,0.0
Bug,MVCC serialization error on reindex,"
2015-06-16 22:06:31,223 [http-bio-8080-exec-15] ERROR org.apache.usergrid.persistence.collection.serialization.impl.MvccLogEntrySerializationStrategyImpl- DATA CORRUPTION DETECTED when de-serializing entity with Id SimpleId{uuid=2034290e-109c-11e5-a3f5-06b0ee5388b2, type='user'}.  This means the write was truncated.
org.apache.usergrid.persistence.collection.exception.DataCorruptionException: Unable to read entity data
	at org.apache.usergrid.persistence.collection.serialization.impl.MvccEntitySerializationStrategyV3Impl$EntitySerializer.fromByteBuffer(MvccEntitySerializationStrategyV3Impl.java:457)
	at org.apache.usergrid.persistence.collection.serialization.impl.MvccEntitySerializationStrategyV3Impl$EntitySerializer.fromByteBuffer(MvccEntitySerializationStrategyV3Impl.java:365)
	at com.netflix.astyanax.serializers.AbstractSerializer.fromBytes(AbstractSerializer.java:42)
	at com.netflix.astyanax.thrift.model.ThriftColumnImpl.getValue(ThriftColumnImpl.java:58)
	at org.apache.usergrid.persistence.collection.serialization.impl.MvccEntitySerializationStrategyV3Impl$MvccColumnParser.parseColumn(MvccEntitySerializationStrategyV3Impl.java:346)
	at org.apache.usergrid.persistence.collection.serialization.impl.MvccEntitySerializationStrategyV3Impl.lambda$load$13(MvccEntitySerializationStrategyV3Impl.java:210)
	at org.apache.usergrid.persistence.collection.serialization.impl.MvccEntitySerializationStrategyV3Impl$$Lambda$23/1238550786.call(Unknown Source)
	at rx.Observable$5.call(Observable.java:3534)
	at rx.internal.operators.OperatorScan$2.onNext(OperatorScan.java:104)
	at rx.observers.SerializedObserver.onNext(SerializedObserver.java:159)
	at rx.observers.SerializedSubscriber.onNext(SerializedSubscriber.java:95)
	at rx.internal.operators.NotificationLite.accept(NotificationLite.java:150)
	at rx.internal.operators.OperatorMergeMaxConcurrent$SourceSubscriber.drain(OperatorMergeMaxConcurrent.java:265)
	at rx.internal.operators.OperatorMergeMaxConcurrent$SourceSubscriber$MergeItemSubscriber.onNext(OperatorMergeMaxConcurrent.java:325)
	at rx.internal.operators.OperatorSubscribeOn$1$1$1.onNext(OperatorSubscribeOn.java:76)
	at rx.internal.operators.OperatorMap$1.onNext(OperatorMap.java:55)
	at rx.internal.util.ScalarSynchronousObservable$1.call(ScalarSynchronousObservable.java:43)
	at rx.internal.util.ScalarSynchronousObservable$1.call(ScalarSynchronousObservable.java:32)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable.unsafeSubscribe(Observable.java:7495)
	at rx.internal.operators.OperatorSubscribeOn$1$1.call(OperatorSubscribeOn.java:62)
	at rx.schedulers.ImmediateScheduler$InnerImmediateScheduler.schedule(ImmediateScheduler.java:58)
	at rx.internal.operators.OperatorSubscribeOn$1.onNext(OperatorSubscribeOn.java:57)
	at rx.internal.operators.OperatorSubscribeOn$1.onNext(OperatorSubscribeOn.java:43)
	at rx.internal.util.ScalarSynchronousObservable$1.call(ScalarSynchronousObservable.java:43)
	at rx.internal.util.ScalarSynchronousObservable$1.call(ScalarSynchronousObservable.java:32)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable.unsafeSubscribe(Observable.java:7495)
	at rx.internal.operators.OperatorMergeMaxConcurrent$SourceSubscriber.subscribeNext(OperatorMergeMaxConcurrent.java:147)
	at rx.internal.operators.OperatorMergeMaxConcurrent$SourceSubscriber.onNext(OperatorMergeMaxConcurrent.java:126)
	at rx.internal.operators.OperatorMergeMaxConcurrent$SourceSubscriber.onNext(OperatorMergeMaxConcurrent.java:68)
	at rx.internal.operators.OperatorMap$1.onNext(OperatorMap.java:55)
	at rx.internal.operators.OperatorBufferWithSize$1.onNext(OperatorBufferWithSize.java:103)
	at rx.internal.operators.OnSubscribeFromIterable$IterableProducer.request(OnSubscribeFromIterable.java:96)
	at rx.internal.operators.OperatorBufferWithSize$1$1.request(OperatorBufferWithSize.java:88)
	at rx.Subscriber.setProducer(Subscriber.java:177)
	at rx.Subscriber.setProducer(Subscriber.java:171)
	at rx.internal.operators.OperatorBufferWithSize$1.setProducer(OperatorBufferWithSize.java:74)
	at rx.internal.operators.OnSubscribeFromIterable.call(OnSubscribeFromIterable.java:47)
	at rx.internal.operators.OnSubscribeFromIterable.call(OnSubscribeFromIterable.java:33)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable.subscribe(Observable.java:7585)
	at rx.observables.BlockingObservable.blockForSingle(BlockingObservable.java:442)
	at rx.observables.BlockingObservable.last(BlockingObservable.java:229)
	at org.apache.usergrid.persistence.collection.serialization.impl.MvccEntitySerializationStrategyV3Impl.load(MvccEntitySerializationStrategyV3Impl.java:215)
	at org.apache.usergrid.persistence.collection.serialization.impl.MvccEntitySerializationStrategyProxyImpl.load(MvccEntitySerializationStrategyProxyImpl.java:95)
	at org.apache.usergrid.persistence.collection.impl.EntityCollectionManagerImpl$1.call(EntityCollectionManagerImpl.java:246)
	at org.apache.usergrid.persistence.collection.impl.EntityCollectionManagerImpl$1.call(EntityCollectionManagerImpl.java:240)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable.subscribe(Observable.java:7585)
	at rx.observables.BlockingObservable.blockForSingle(BlockingObservable.java:442)
	at rx.observables.BlockingObservable.lastOrDefault(BlockingObservable.java:262)
	at org.apache.usergrid.corepersistence.CpEntityManager.load(CpEntityManager.java:316)
	at org.apache.usergrid.corepersistence.CpEntityManager.get(CpEntityManager.java:454)
	at org.apache.usergrid.corepersistence.CpEntityManager.get(CpEntityManager.java:2344)
	at org.apache.usergrid.management.cassandra.ManagementServiceImpl.getUserEntityByIdentifier(ManagementServiceImpl.java:1060)
	at org.apache.usergrid.management.cassandra.ManagementServiceImpl.findUserEntity(ManagementServiceImpl.java:1132)
	at org.apache.usergrid.management.cassandra.ManagementServiceImpl.verifyAdminUserPasswordCredentials(ManagementServiceImpl.java:1277)
	at org.apache.usergrid.rest.management.ManagementResource.getAccessTokenInternal(ManagementResource.java:256)
	at org.apache.usergrid.rest.management.ManagementResource.getAccessTokenPostJson(ManagementResource.java:396)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at com.sun.jersey.spi.container.JavaMethodInvokerFactory$1.invoke(JavaMethodInvokerFactory.java:60)
	at com.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$ResponseOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:205)
	at com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75)
	at com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:302)
	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
	at com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108)
	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
	at com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84)
	at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1542)
	at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1473)
	at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1419)
	at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1409)
	at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:409)
	at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:540)
	at com.sun.jersey.spi.container.servlet.ServletContainer.doFilter(ServletContainer.java:909)
	at com.sun.jersey.spi.container.servlet.ServletContainer.doFilter(ServletContainer.java:857)
	at com.sun.jersey.spi.container.servlet.ServletContainer.doFilter(ServletContainer.java:811)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449)
	at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365)
	at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90)
	at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83)
	at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383)
	at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362)
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.usergrid.rest.filters.ContentTypeFilter.doFilter(ContentTypeFilter.java:92)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.io.CharConversionException: Invalid UTF-32 character 0x7d000000(above 10ffff)  at char #1, byte #7)
	at com.fasterxml.jackson.core.io.UTF32Reader.reportInvalid(UTF32Reader.java:155)
	at com.fasterxml.jackson.core.io.UTF32Reader.read(UTF32Reader.java:109)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.loadMore(ReaderBasedJsonParser.java:131)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipWSOrEnd(ReaderBasedJsonParser.java:1688)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextToken(ReaderBasedJsonParser.java:562)
	at com.fasterxml.jackson.databind.ObjectMapper._initForReading(ObjectMapper.java:3031)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:2978)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2167)
	at org.apache.usergrid.persistence.collection.serialization.impl.MvccEntitySerializationStrategyV3Impl$EntitySerializer.fromByteBuffer(MvccEntitySerializationStrategyV3Impl.java:446)
	... 145 more",3.0,0,1.0,1.0,1.0,1.0,1.0,0.0,1.0,0.3333333333333333,0.4090909090909091,1.0,1.0000000000000002,1.0000000000000002,0.0
Story,External Set of REST Tests that confirms Usergrid functionality in an execution environment,"We need a script which executes API calls to test an installation given a set of test cases to confirm that it 'works' with a bare minimum of functionality.

- CRUD on entity
- Query entities 
- CRUD on connections

Add queries from here: http://apigee.com/docs/app-services/content/working-queries as test cases.
",1.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.030303030303030304,1.0,1.0000000000000002,1.0000000000000002,0.0
Story,Update Usergrid 1.0 search to use concurrent search per shard,"Currently we merge all shards together with every page seek in usergrid 1.0. This means we select 20k columns, and discard 19k with each page selection.  Instead, I propose that we create an AST per shard, and execute the iterator on these shards concurrently.  We then merge on the last step, greatly reducing the amount of network I/O and discarded data on queries of large data sets.

Proposed Changes:
1 AST instance per shard, evaluated concurrently via some worker pool.

Change final gather of concurrent iterators.

Change cursor generation to create the cursor from the merged trees.


",3.0,0,0.0,0.9505494505494506,0.932258064516129,0.8133333333333334,0.9656816015252622,0.0,0.7848101265822784,0.5714285714285714,0.5909090909090909,0.3529411764705882,0.5301204819277109,0.5301204819277109,0.0
Story,Change MvccEntitySerializationStrategyV3Impl to use native JSON when storing in the column value,"Currently we use SMILE binary serialization to serialize our column values.  During production debugging, this makes it extremely difficult to debug.  I propose we remove the SMILE binary serialization, and instead use json serialization with the following formation

{code}
{
  ""version"": [serialization implementation version number as an int],
  ""entity"": {... entity as a nested json object }

}
{code}

If the entity is present, then the entity has not been deleted.  If the entity field is not present, then the entity should be read as a marked for deletion.
",3.0,0,1.0,1.0,1.0,1.0,1.0,0.0,1.0,0.3333333333333333,0.4090909090909091,0.3529411764705882,0.5301204819277109,0.5301204819277109,0.0
Bug,"When setting accesstokenttl to 0, client credentials auth still returns 604800","If I send a PUT request to set the accesstokenttl to 0 for an app:

{code}
{
    ""accesstokenttl"": 0
}
{code}

And then make a subsequent client_credentials token request, the token ttl in the response is still 604800:

{code}
{
    ""client_id"": ""***"",
    ""client_secret"": ""***"",
    ""grant_type"": ""client_credentials"",
    ""ttl"": 0
}
{code}

Response: 

{code}
{
    ""access_token"": ""***"",
    ""expires_in"": 604800,
    ""application"": ""***""
}
{code}

[~tnine] suggests this may be a response rendering problem and that it is actually setting the expiration correctly in the stack.",3.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,0.058823529411764705,0.012048192771084338,0.012048192771084338,0.0
Bug,SNS Queueing/Messaging should create RAW subscriptions,SNS wraps messages passed to SQS in an envelope unless you specify a RAW subscription type.  At this time we would prefer a RAW message delivery.,1.0,0,0.0,0.27472527472527475,0.1693548387096774,0.18666666666666668,0.25166825548141086,0.0,0.0,0.2857142857142857,0.16666666666666669,1.0,1.0000000000000002,1.0000000000000002,0.0
Story,Implement Bucketing Algorithm for assignment of Application Index Aliases to Physical Indexes,"When allocating an index alias to one of the physical indexes a bucketing strategy should be used with ranges based off the number of indexes in elasticsearch.

For example, if there are 10 physical indexes then there would be 10 buckets based on a hash of the Application ID which would result in the assignment of an app alias to a physical index based on the range in which it falls.
",3.0,0,1.0,1.0,1.0,1.0,1.0,0.0,1.0,0.3333333333333333,0.4090909090909091,1.0,1.0000000000000002,1.0000000000000002,0.0
Bug,2.0 does not correctly handle inferred type of Date with optional time,This causes issues if the field is blank.  We need to resolve this for a production installation.,3.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,1.0,1.0000000000000002,1.0000000000000002,0.0
Story,Rationalize JMX Metrics in 2.0 branch,Make same as 2.1 branch,2.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,1.0000000000000002,1.0000000000000002,0.0
Bug,SNS Queue Manager uses ARN to read instead of URL,There is a bug in org.apache.usergrid.persistence.queue.impl.SNSQueueManagerImpl which results in the ARN of the queue being used when the URL should be used.,1.0,0,0.0,0.27472527472527475,0.1693548387096774,0.18666666666666668,0.25166825548141086,0.0,0.0,0.2857142857142857,0.16666666666666669,1.0,1.0000000000000002,1.0000000000000002,0.0
Story,Audit and review JMX Metrics for consistency,"JMX Metrics have varying names and formats.  It would be helpful to standardize them.  Lets take a pass and rename them to have an ""x.y"" pattern.  
Where x=object/concept and y=attribute/action.  If there is no explicit y, y should be 'base'.

Here is an example:
this.deleteApplicationMeter = metricsFactory.getMeter(EsApplicationEntityIndexImpl.class, ""application.delete"");


https://github.com/apache/incubator-usergrid/pull/269",2.0,0,0.0,0.27472527472527475,0.1693548387096774,0.18666666666666668,0.25166825548141086,0.0,0.0,0.2857142857142857,0.16666666666666669,1.0,1.0000000000000002,1.0000000000000002,0.0
Bug,SNSQueueManagerImpl needs better error handling and messaging,"It would be better if this was preceded by a message stating which queue cannot be found.

com.amazonaws.services.sqs.model.QueueDoesNotExistException: The specified queue does not exist for this wsdl version. (Service: AmazonSQS; Status Code: 400; Error Code: AWS.SimpleQueueService.NonExistentQueue; Request ID: 70c94af9-7d46-5d2b-9a7e-07155ddd1ed5)
	at com.amazonaws.http.AmazonHttpClient.handleErrorResponse(AmazonHttpClient.java:1160)
	at com.amazonaws.http.AmazonHttpClient.executeOneRequest(AmazonHttpClient.java:748)
	at com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:467)
	at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:302)
	at com.amazonaws.services.sqs.AmazonSQSClient.invoke(AmazonSQSClient.java:2422)
	at com.amazonaws.services.sqs.AmazonSQSClient.receiveMessage(AmazonSQSClient.java:1130)
	at org.apache.usergrid.persistence.queue.impl.SNSQueueManagerImpl.getMessages(SNSQueueManagerImpl.java:234)
	at org.apache.usergrid.corepersistence.asyncevents.AmazonAsyncEventService.take(AmazonAsyncEventService.java:153)
	at org.apache.usergrid.corepersistence.asyncevents.AmazonAsyncEventService.access$300(AmazonAsyncEventService.java:66)
	at org.apache.usergrid.corepersistence.asyncevents.AmazonAsyncEventService$2.call(AmazonAsyncEventService.java:379)
	at org.apache.usergrid.corepersistence.asyncevents.AmazonAsyncEventService$2.call(AmazonAsyncEventService.java:366)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable.unsafeSubscribe(Observable.java:7495)
	at rx.internal.operators.OperatorSubscribeOn$1$1.call(OperatorSubscribeOn.java:62)
	at rx.internal.schedulers.ScheduledAction.run(ScheduledAction.java:55)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)",1.0,0,0.0,0.27472527472527475,0.1693548387096774,0.18666666666666668,0.25166825548141086,0.0,0.0,0.2857142857142857,0.16666666666666669,1.0,1.0000000000000002,1.0000000000000002,0.0
Story,JMX Metrics/Counters for Cassandra,Would be nice to add metrics and counters at the lower level for bytes in/out Cassandra and latency,1.0,0,1.0,1.0,1.0,1.0,1.0,0.0,1.0,0.3333333333333333,0.4090909090909091,1.0,1.0000000000000002,1.0000000000000002,0.0
Story,ApplicationResource can no longer update user token ttl's. ,ApplicationResourceIT.updateAccessTokenTtl() is broken because of the added funcitonality of app delete. The way it was implemented added a executePut method into the ApplicationResource which overrides the service resource executePut method thus breaking this test. What we want to decide moving forward is up to the person who works on this ticket. ,2.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.14705882352941177,0.44578313253012053,0.44578313253012053,0.0
Story,Add organizations to Admin User import/export (usergrid-tools.jar),TBD,3.0,1.0.1,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.5238095238095237,0.5909090909090909,0.2647058823529412,0.3614457831325302,0.3614457831325302,0.4950990099009901
Bug,Test Not Passing: DevicesresourceIT ,seems to be a graph compaction issue DevicesResourceIT.putWithUUIDShouldCreateAfterDelete,1.0,0,1.0,0.9505494505494506,0.932258064516129,0.8133333333333334,0.9656816015252622,0.0,0.7848101265822784,0.5714285714285714,0.5909090909090909,0.3529411764705882,0.28915662650602414,0.28915662650602414,0.0
Bug,Test Not Passing: ManagementResourceIT,"testSuperuserOnlyWhenValidateExternalTokensEnabled
and the other external test are broken.",2.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.5238095238095237,0.5909090909090909,0.3529411764705882,0.28915662650602414,0.28915662650602414,0.0
Bug,Test Not Passing: StaleIndexCleanupTests,"Results :

Failed tests:
  StaleIndexCleanupTest.testCleanupOnUpdate:462 Expect candidates without earlier stale entities expected:<10> but was:<60>

Tests run: 258, Failures: 1, Errors: 0, Skipped: 25",1.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,0.3529411764705882,0.28915662650602414,0.28915662650602414,0.0
Bug,Test Not Passing: AdminUsersIT,AdminUsersIT.mgmtUserFeed:190  UniformInterface GET http://localhost:10006/ma...,2.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,0.3529411764705882,0.28915662650602414,0.28915662650602414,0.0
Story,AdminEmailEncodingIT," AdminEmailEncodingIT.getTokenDash:73->doTest:116  UniformInterface POST http:...
  AdminEmailEncodingIT.getTokenPlus:53->doTest:116  UniformInterface POST http:...
  AdminEmailEncodingIT.getTokenUnderscore:63->doTest:116  UniformInterface POST...",2.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,0.3529411764705882,0.28915662650602414,0.28915662650602414,0.0
Bug,Test Not Passing: RegistrationIT," RegistrationIT.addExistingAdminUserToOrganization:304  UniformInterface POST ...
  RegistrationIT.addNewAdminUserWithNoPwdToOrganization:245->postAddAdminToOrg:90  ClientHandler
  RegistrationIT.postAddToOrganization:222->AbstractRestIT.getAdminToken:173  UniformInterface
  RegistrationIT.postCreateOrgAndAdmin:134->AbstractRestIT.getAdminToken:173  UniformInterface
  RegistrationIT.putAddToOrganizationFail:195->AbstractRestIT.getAdminToken:173  UniformInterface",2.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,0.3529411764705882,0.28915662650602414,0.28915662650602414,0.0
Bug,Test Not Passing: ContentTypeResourceIT,"ContentTypeResourceIT.formEncodedContentType:152 expected:<200> but was:<500>
  ContentTypeResourceIT.noAcceptGet:262 expected:<200> but was:<400>",2.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,0.3529411764705882,0.28915662650602414,0.28915662650602414,0.0
Bug,Test Not Passing: PermissionsResourceIT,"  PermissionsResourceIT.applicationPermissions:262 expected:<[noca]> but was:<[4peaks]>
  PermissionsResourceIT.deleteUserGroup:157 null",2.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,0.3529411764705882,0.28915662650602414,0.28915662650602414,0.0
Bug,Test Not Passing:  ManagementResourceIT,11 tests failing,2.0,0,0.0,1.0,1.0,1.0,1.0,0.0,1.0,0.3333333333333333,0.4090909090909091,0.3529411764705882,0.28915662650602414,0.28915662650602414,0.0
Bug,Test Not Passing: AndOrQueryTest,"Fix AndOrQueryTest:
queryReturnCheck
queryReturnCheckWithShortHand",1.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,0.14705882352941177,0.44578313253012053,0.44578313253012053,0.0
Bug,Test Not Passing: PagingResourceIT,"there are two test failures in intelliJ 
testCursor: org.junit.ComparisonFailure: 
Expected :1
Actual   :11
 <Click to see difference>
	at org.junit.Assert.assertEquals(Assert.java:115)
	at org.junit.Assert.assertEquals(Assert.java:144)
	at org.apache.usergrid.rest.applications.collection.paging.PagingResourceIT.pageAndVerifyEntities(PagingResourceIT.java:305)
	at org.apache.usergrid.rest.applications.collection.paging.PagingResourceIT.testCursor(PagingResourceIT.java:149)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.apache.usergrid.rest.test.resource2point0.ClientSetup$1.evaluate(ClientSetup.java:82)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:78)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:212)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:68)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:140)

and

pagingEntities
org.junit.ComparisonFailure: 
Expected :1
Actual   :100
 <Click to see difference>
	at org.junit.Assert.assertEquals(Assert.java:115)
	at org.junit.Assert.assertEquals(Assert.java:144)
	at org.apache.usergrid.rest.applications.collection.paging.PagingResourceIT.pageAndVerifyEntities(PagingResourceIT.java:305)
	at org.apache.usergrid.rest.applications.collection.paging.PagingResourceIT.pagingEntities(PagingResourceIT.java:177)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.apache.usergrid.rest.test.resource2point0.ClientSetup$1.evaluate(ClientSetup.java:82)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:78)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:212)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:68)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:140)",2.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,0.14705882352941177,0.44578313253012053,0.44578313253012053,0.0
Story,Update SQS provider implementation to use Observable,SQS Queue Manager should be updated to use Observable and emit a stream of messages.,2.0,0,1.0,1.0,1.0,1.0,1.0,0.0,1.0,0.3333333333333333,0.4090909090909091,1.0,1.0000000000000002,1.0000000000000002,0.0
Bug,ElasticSearch Type Mapping has _all in wrong place,_all should be moved to a child of 'entity',1.0,0,0.0,0.27472527472527475,0.1693548387096774,0.18666666666666668,0.25166825548141086,0.0,0.0,0.2857142857142857,0.16666666666666669,1.0,1.0000000000000002,1.0000000000000002,0.0
Story,Create new parser for Scrolling api,Currently we only do search results and parse those results under the assumption that we will only do one search. As we query elasticsearch we want to be able to use the scrolling api to batch pull all the results we can find from elasticsearch. ,1.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,0.14705882352941177,0.44578313253012053,0.44578313253012053,0.0
Story,"Update mapping to use ""dynamic"": ""strict"" to prevent new fields from being added dynamically","""dynamic"": ""strict""

We should ensure this is not used per https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-dynamic-mapping.html",1.0,0,0.0,0.27472527472527475,0.1693548387096774,0.18666666666666668,0.25166825548141086,0.0,0.0,0.2857142857142857,0.16666666666666669,1.0,1.0000000000000002,1.0000000000000002,0.0
Bug,Portal stores the password of an app user after it is created in clear-text,"After creating an app user their password is stored in clear-text in the portal.  It should not be persisted in the session or displayed in the portal in clear-text

IMPORTANT NOTE: the current version of the Portal that we use (at Apigee) is setup to enable the new Usergrid Central SSO, so if it is to be deployed before Central SSO is enabled in prod, then you will have to disable central SSO in the portal before deploying it.",3.0,0,1.0,0.8846153846153847,0.14516129032258066,0.33333333333333337,0.10390848427073403,0.0,0.24050632911392406,0.19047619047619047,0.06060606060606061,1.0,1.0000000000000002,1.0000000000000002,0.0
Bug,401 ServiceResourceNotFoundException instead of expected 404,When you do a get by name/uuid of an entity which does not exist a 401 error is returned instead of a 404.,2.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,1.0,1.0000000000000002,1.0000000000000002,0.0
Story,Graph deletes not going through. ,"This call returns an empty iterator

storageEdgeSerialization.getEdgeVersions( scope,
                        new SimpleSearchByEdge( edge.getSourceNode(), edge.getType(), edge.getTargetNode(),
                            Long.MAX_VALUE, SearchByEdgeType.Order.ASCENDING, Optional.absent() ) );

 when we go to delete the edge. So since its empty it returns null and fails the test. 

        final Edge toBeDeletedEdge = graphManager.deleteEdge( connectionSearch ).toBlocking().firstOrDefault( null );

Need to resolve this so we can fix graph tests. 
",3.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,0.14705882352941177,0.44578313253012053,0.44578313253012053,0.0
Story,More than one connection does not get created when running batch index on connection edges,"When running the following code in indexEntity         final Observable<IndexOperationMessage>  batches =  observable.buffer( indexFig.getIndexBatchSize() )

            //map into batches based on our buffer size
            .flatMap( buffer -> Observable.from( buffer )
                //collect results into a single batch
                .collect( () -> ei.createBatch(), ( batch, indexEdge ) -> {
                    logger.debug( ""adding edge {} to batch for entity {}"", indexEdge, entity );
                    batch.index( indexEdge, entity );
                } )
                    //return the future from the batch execution
                .flatMap( batch -> batch.execute() ) );

When run with more than one SearchEdge only one SearchEdge is indexed into elasticsearch. Despite both search edges having the same document id. The batch executes but only one connection gets indexed in elasticsearch. ",3.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,0.14705882352941177,0.44578313253012053,0.44578313253012053,0.0
Bug,AwsSdkS3BinaryStore dependencies break the REST module tests,"The new AwsSdkS3BinaryStore implementation depends on Jackson 2.3.x data mapper, which conflicts with Jackson 1.x and causes the REST tests to fail.  

If you use Maven to exclude the Jackson 2.3.x object mapper (which I did with PR https://github.com/apache/incubator-usergrid/pull/244) and configure the REST tests to use AwsSdkS3BinaryStore, then the REST tests fail with the exception below, which indicates to me that AwsSdkS3BinaryStore will not work at runtime without Jackson 2.3.x object mapper.

/cc [~pandacat]: do you have any ideas about how to work around this issue? Have you had success with the REST module tests and your new AWS SDK based BinaryStore implementation?


java.lang.NoClassDefFoundError: com/fasterxml/jackson/databind/ObjectMapper
        at com.amazonaws.util.json.Jackson.<clinit>(Jackson.java:32)
        at com.amazonaws.internal.config.InternalConfig.loadfrom(InternalConfig.java:230)
        at com.amazonaws.internal.config.InternalConfig.load(InternalConfig.java:247)
        at com.amazonaws.internal.config.InternalConfig$Factory.<clinit>(InternalConfig.java:282)
        at com.amazonaws.util.VersionInfoUtils.userAgent(VersionInfoUtils.java:139)
        at com.amazonaws.util.VersionInfoUtils.initializeUserAgent(VersionInfoUtils.java:134)
        at com.amazonaws.util.VersionInfoUtils.getUserAgent(VersionInfoUtils.java:95)
        at com.amazonaws.ClientConfiguration.<clinit>(ClientConfiguration.java:42)
        at org.apache.usergrid.services.assets.data.AwsSdkS3BinaryStore.getS3Client(AwsSdkS3BinaryStore.java:98)


",3.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.2647058823529412,0.3614457831325302,0.3614457831325302,0.0
Bug,Issue with Unique Values - NPE,"Please ensure appropriate null checks and behavior happen here:

2015-05-12 17:05:37,811 [http-bio-8080-exec-14] ERROR org.apache.usergrid.rest.exceptions.AbstractExceptionMapper- java.lang.NullPointerException Server Error (500)
java.lang.NullPointerException
	at org.apache.usergrid.services.AbstractConnectionsService.getItemByName(AbstractConnectionsService.java:238)
	at org.apache.usergrid.services.AbstractService.invokeItemWithName(AbstractService.java:671)
	at org.apache.usergrid.services.AbstractService.invoke(AbstractService.java:628)
	at org.apache.usergrid.services.AbstractService.invoke(AbstractService.java:544)
	at org.apache.usergrid.services.ServiceRequest.execute(ServiceRequest.java:226)
	at org.apache.usergrid.services.ServiceRequest.invokeMultiple(ServiceRequest.java:262)
	at org.apache.usergrid.services.ServiceRequest.execute(ServiceRequest.java:229)
	at org.apache.usergrid.services.ServiceRequest.execute(ServiceRequest.java:193)
	at org.apache.usergrid.rest.applications.ServiceResource.executeServiceRequest(ServiceResource.java:251)
	at org.apache.usergrid.rest.applications.ServiceResource.executeGet(ServiceResource.java:297)
	at sun.reflect.GeneratedMethodAccessor142.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at com.sun.jersey.spi.container.JavaMethodInvokerFactory$1.invoke(JavaMethodInvokerFactory.java:60)
	at com.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$TypeOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:185)
	at com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75)
	at com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:302)
	at com.sun.jersey.server.impl.uri.rules.SubLocatorRule.accept(SubLocatorRule.java:137)
	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
	at com.sun.jersey.server.impl.uri.rules.SubLocatorRule.accept(SubLocatorRule.java:137)
	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
	at com.sun.jersey.server.impl.uri.rules.SubLocatorRule.accept(SubLocatorRule.java:137)
	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
	at com.sun.jersey.server.impl.uri.rules.SubLocatorRule.accept(SubLocatorRule.java:137)
	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
	at com.sun.jersey.server.impl.uri.rules.SubLocatorRule.accept(SubLocatorRule.java:137)
	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
	at com.sun.jersey.server.impl.uri.rules.SubLocatorRule.accept(SubLocatorRule.java:137)
	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
	at com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108)
	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
	at com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84)
	at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1542)
	at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1473)
	at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1419)
	at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1409)
	at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:409)
	at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:540)
	at com.sun.jersey.spi.container.servlet.ServletContainer.doFilter(ServletContainer.java:909)
	at com.sun.jersey.spi.container.servlet.ServletContainer.doFilter(ServletContainer.java:857)
	at com.sun.jersey.spi.container.servlet.ServletContainer.doFilter(ServletContainer.java:811)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449)
	at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365)
	at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90)
	at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83)
	at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383)
	at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362)
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:259)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.usergrid.rest.filters.ContentTypeFilter.doFilter(ContentTypeFilter.java:92)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:503)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1070)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)",3.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,1.0000000000000002,1.0000000000000002,0.0
Bug,Test Not Passing: IteratingQueryIt failing due to bad serializer,"trying to deserialize a markededge into an edge

AbstractCursorSerializer line 47


2015-05-08 14:33:25,926 DEBUG (main) IndexServiceImpl - adding edge IndexEdgeImpl{timestamp=1431117205920001} SearchEdgeImpl{nodeId=SimpleId{uuid=7a1f1c82-f5c1-11e4-9ef9-324ce75ff58b, type='application'}, name='zzzcollzzz|tests', nodeType=TARGET} to batch for entity Entity{id=SimpleId{uuid=7a69ba0a-f5c1-11e4-ab26-47475f9887d5, type='test'}, version=7a69ba63-f5c1-11e4-9ef9-324ce75ff58b}
2015-05-08 14:33:25,942 DEBUG (main) IndexServiceImpl - adding edge IndexEdgeImpl{timestamp=1431117205934001} SearchEdgeImpl{nodeId=SimpleId{uuid=7a1f1c82-f5c1-11e4-9ef9-324ce75ff58b, type='application'}, name='zzzcollzzz|tests', nodeType=TARGET} to batch for entity Entity{id=SimpleId{uuid=7a6bdcea-f5c1-11e4-8198-83878cd74a93, type='test'}, version=7a6c0456-f5c1-11e4-9ef9-324ce75ff58b}
2015-05-08 14:33:25,957 DEBUG (main) IndexServiceImpl - adding edge IndexEdgeImpl{timestamp=1431117205949001} SearchEdgeImpl{nodeId=SimpleId{uuid=7a1f1c82-f5c1-11e4-9ef9-324ce75ff58b, type='application'}, name='zzzcollzzz|tests', nodeType=TARGET} to batch for entity Entity{id=SimpleId{uuid=7a6e26da-f5c1-11e4-8f8d-9b115b1298d8, type='test'}, version=7a6e2739-f5c1-11e4-9ef9-324ce75ff58b}
2015-05-08 14:33:25,970 DEBUG (main) IndexServiceImpl - adding edge IndexEdgeImpl{timestamp=1431117205964001} SearchEdgeImpl{nodeId=SimpleId{uuid=7a1f1c82-f5c1-11e4-9ef9-324ce75ff58b, type='application'}, name='zzzcollzzz|tests', nodeType=TARGET} to batch for entity Entity{id=SimpleId{uuid=7a7070ca-f5c1-11e4-9deb-7d7bf418ca86, type='test'}, version=7a70712c-f5c1-11e4-9ef9-324ce75ff58b}
2015-05-08 14:33:25,984 DEBUG (main) IndexServiceImpl - adding edge IndexEdgeImpl{timestamp=1431117205978001} SearchEdgeImpl{nodeId=SimpleId{uuid=7a1f1c82-f5c1-11e4-9ef9-324ce75ff58b, type='application'}, name='zzzcollzzz|tests', nodeType=TARGET} to batch for entity Entity{id=SimpleId{uuid=7a7293aa-f5c1-11e4-8cbc-6b63f058386d, type='test'}, version=7a72bb1f-f5c1-11e4-9ef9-324ce75ff58b}
2015-05-08 14:33:25,998 DEBUG (main) IndexServiceImpl - adding edge IndexEdgeImpl{timestamp=1431117205991001} SearchEdgeImpl{nodeId=SimpleId{uuid=7a1f1c82-f5c1-11e4-9ef9-324ce75ff58b, type='application'}, name='zzzcollzzz|tests', nodeType=TARGET} to batch for entity Entity{id=SimpleId{uuid=7a748f7a-f5c1-11e4-b755-cfcc9cf90313, type='test'}, version=7a748fe2-f5c1-11e4-9ef9-324ce75ff58b}
2015-05-08 14:33:26,013 DEBUG (main) IndexServiceImpl - adding edge IndexEdgeImpl{timestamp=1431117206006001} SearchEdgeImpl{nodeId=SimpleId{uuid=7a1f1c82-f5c1-11e4-9ef9-324ce75ff58b, type='application'}, name='zzzcollzzz|tests', nodeType=TARGET} to batch for entity Entity{id=SimpleId{uuid=7a76d96a-f5c1-11e4-b6ba-5103774b6f21, type='test'}, version=7a7700e5-f5c1-11e4-9ef9-324ce75ff58b}
2015-05-08 14:33:26,027 DEBUG (main) IndexServiceImpl - adding edge IndexEdgeImpl{timestamp=1431117206021001} SearchEdgeImpl{nodeId=SimpleId{uuid=7a1f1c82-f5c1-11e4-9ef9-324ce75ff58b, type='application'}, name='zzzcollzzz|tests', nodeType=TARGET} to batch for entity Entity{id=SimpleId{uuid=7a79235a-f5c1-11e4-a640-1f069a6b43c9, type='test'}, version=7a7923c8-f5c1-11e4-9ef9-324ce75ff58b}
2015-05-08 14:33:26,112 INFO (main) IndexRefreshCommandImpl - found record during refresh uuid: 7a7c0980-f5c1-11e4-b2bd-5994708e0639 took ms:75 
2015-05-08 14:33:26,112 INFO (main) IteratingQueryIT - Writes took 571 ms
Disconnected from the target VM, address: '127.0.0.1:49588', transport: 'socket'
2015-05-08 14:34:59,660 INFO (main) CoreApplication - Test allInConnectionNoType(org.apache.usergrid.persistence.query.IteratingQueryIT): finish with application

org.apache.usergrid.corepersistence.pipeline.cursor.CursorParseException: Unable to deserialize value
	at org.apache.usergrid.corepersistence.pipeline.cursor.AbstractCursorSerializer.fromJsonNode(AbstractCursorSerializer.java:51)
	at org.apache.usergrid.corepersistence.pipeline.cursor.RequestCursor.getCursor(RequestCursor.java:75)
	at org.apache.usergrid.corepersistence.pipeline.PipelineContext.getCursor(PipelineContext.java:68)
	at org.apache.usergrid.corepersistence.pipeline.read.AbstractPathFilter.getSeekValue(AbstractPathFilter.java:50)
	at org.apache.usergrid.corepersistence.pipeline.read.graph.AbstractReadGraphFilter.lambda$call$2(AbstractReadGraphFilter.java:73)
	at org.apache.usergrid.corepersistence.pipeline.read.graph.AbstractReadGraphFilter$$Lambda$100/1957269967.call(Unknown Source)
	at rx.internal.operators.OperatorMap$1.onNext(OperatorMap.java:55)
	at rx.internal.operators.OperatorMap$1.onNext(OperatorMap.java:55)
	at rx.internal.util.ScalarSynchronousObservable$1.call(ScalarSynchronousObservable.java:43)
	at rx.internal.util.ScalarSynchronousObservable$1.call(ScalarSynchronousObservable.java:32)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable$1.call(Observable.java:144)
	at rx.Observable$1.call(Observable.java:136)
	at rx.Observable.subscribe(Observable.java:7585)
	at rx.internal.operators.BlockingOperatorToIterator.toIterator(BlockingOperatorToIterator.java:53)
	at rx.observables.BlockingObservable.getIterator(BlockingObservable.java:156)
	at org.apache.usergrid.corepersistence.results.ObservableQueryExecutor.hasNext(ObservableQueryExecutor.java:114)
	at org.apache.usergrid.corepersistence.results.ObservableQueryExecutor.next(ObservableQueryExecutor.java:124)
	at org.apache.usergrid.corepersistence.CpRelationManager.searchConnectedEntities(CpRelationManager.java:948)
	at org.apache.usergrid.corepersistence.CpEntityManager.searchConnectedEntities(CpEntityManager.java:1546)
	at org.apache.usergrid.persistence.query.IteratingQueryIT$ConnectionNoTypeHelper.getResults(IteratingQueryIT.java:278)
	at org.apache.usergrid.persistence.query.IteratingQueryIT.allIn(IteratingQueryIT.java:1130)
	at org.apache.usergrid.persistence.query.IteratingQueryIT.allInConnectionNoType(IteratingQueryIT.java:71)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.apache.usergrid.CoreApplication$1.evaluate(CoreApplication.java:145)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.apache.usergrid.CoreITSetupImpl$1.evaluate(CoreITSetupImpl.java:76)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:68)
Caused by: com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field ""deleted"" (class org.apache.usergrid.persistence.graph.impl.SimpleEdge), not marked as ignorable (4 known properties: ""type"", ""targetNode"", ""sourceNode"", ""timestamp""])
 at [Source: N/A; line: -1, column: -1] (through reference chain: org.apache.usergrid.persistence.graph.impl.SimpleEdge[""deleted""])
	at com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:51)
	at com.fasterxml.jackson.databind.DeserializationContext.reportUnknownProperty(DeserializationContext.java:671)
	at com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:773)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1297)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1275)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:247)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:118)
	at com.fasterxml.jackson.databind.ObjectMapper._readValue(ObjectMapper.java:2965)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:1587)
	at com.fasterxml.jackson.databind.ObjectMapper.treeToValue(ObjectMapper.java:1931)
	at org.apache.usergrid.corepersistence.pipeline.cursor.AbstractCursorSerializer.fromJsonNode(AbstractCursorSerializer.java:48)
	... 74 more
Caused by: rx.exceptions.OnErrorThrowable$OnNextValue: OnError while emitting onNext value: org.apache.usergrid.corepersistence.pipeline.read.FilterResult.class
	at rx.exceptions.OnErrorThrowable.addValueAsLastCause(OnErrorThrowable.java:101)
	at rx.internal.operators.OperatorMap$1.onNext(OperatorMap.java:58)
	... 68 more",2.0,0,1.0,0.9505494505494506,0.932258064516129,0.8133333333333334,0.9656816015252622,0.0,0.7848101265822784,0.5714285714285714,0.5909090909090909,0.3529411764705882,0.28915662650602414,0.28915662650602414,0.0
Story,Implement Reindex By Collection,PerformanceEntityRebuildIndexTest.rebuildOneCollectionIndex:228 null,3.0,0,1.0,0.9505494505494506,0.932258064516129,0.8133333333333334,0.9656816015252622,0.0,0.7848101265822784,0.5714285714285714,0.5909090909090909,0.3529411764705882,0.28915662650602414,0.28915662650602414,0.0
Bug,Test Not Passing: StaleIndexCleanup Failing due to old version getting returned from search,"java.lang.AssertionError: 
Expected :e2283e4d-f504-11e4-b4ae-324ce75ff58b
Actual   :e2150469-f504-11e4-b4ae-324ce75ff58b
 <Click to see difference>
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.failNotEquals(Assert.java:834)
	at org.junit.Assert.assertEquals(Assert.java:118)
	at org.junit.Assert.assertEquals(Assert.java:144)
	at org.apache.usergrid.corepersistence.StaleIndexCleanupTest.testUpdateVersionMaxFirst(StaleIndexCleanupTest.java:187)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.apache.usergrid.CoreApplication$1.evaluate(CoreApplication.java:145)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.apache.usergrid.CoreITSetupImpl$1.evaluate(CoreITSetupImpl.java:76)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:78)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:212)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:68)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:140)
",3.0,0,0.0,1.0,1.0,1.0,1.0,0.0,1.0,0.3333333333333333,0.4090909090909091,0.3529411764705882,0.28915662650602414,0.28915662650602414,0.0
Story,Implement search by connections in core," EntityConnectionsIT.testEntityConnectionsMembership:271 null
  EntityConnectionsIT.testEntityConnectionsSimple:79 null

are failing",3.0,0,1.0,0.9505494505494506,0.932258064516129,0.8133333333333334,0.9656816015252622,0.0,0.7848101265822784,0.5714285714285714,0.5909090909090909,0.3529411764705882,0.28915662650602414,0.28915662650602414,0.0
Bug,Entities created on the portal during 'create collection' do not get persisted,"In the portal, when you use the create collection button to create a collection you now must specify the first entity on the form.  It does not appear that the entity gets persisted into the collection.

This can be recreated on the Usergrid free version at http://appservices.apigee.com/index.html/#!/login",3.0,0,1.0,0.8846153846153847,0.14516129032258066,0.33333333333333337,0.10390848427073403,0.0,0.24050632911392406,0.19047619047619047,0.06060606060606061,1.0,1.0000000000000002,1.0000000000000002,0.0
Bug,Entity does not return from collection when ql=select *,"Entity exists at /{org}/{app}/{collection}/{name} but is not returned from /{org}/{app}/{collection}?ql=select * 

For reference: https://apigeesc.atlassian.net/browse/APIBAAS-1560",3.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,1.0000000000000002,1.0000000000000002,0.0
Story,Refactor compaction operations to be declarative in 2.1,"Currently our event system originates from too may points.  Both GraphManager and CollectionManager fire events for compaction.  This is causing issues with our event orchestration when we aggregate events in the core tier. A quick refactor needs to occur.  The following will need to happen.

1) Define new compaction interfaces on the EntityCollectionManager and GraphManager

2) Refactor the existing code to be invoked on these events

3) Invoke the compaction at a higher level.  Mark will sill occur, compaction will be deferred to the runtime. This allows a separate distributed subsystem to be created. 

",3.0,0,0.0,0.9505494505494506,0.932258064516129,0.8133333333333334,0.9656816015252622,0.0,0.7848101265822784,0.5714285714285714,0.5909090909090909,0.3529411764705882,0.5301204819277109,0.5301204819277109,0.0
Bug,Reindex endpoint should not be case-sensitive,"the reindex endpoint: http://localhost:8080/system/index/rebuild/a34ad389-b626-11e4-848f-06b49118d7d0/Storelatlons

does not work due to case sensitivity.",1.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,1.0,1.0000000000000002,1.0000000000000002,0.0
Story,Refactor/Complete Delete Entity in 2.1,"can o worms

refactor cp relation manager into async service

async == async event service starts process

look at indexingservice



",2.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,0.3529411764705882,0.28915662650602414,0.28915662650602414,0.0
Story,Implement Deleting Edge out of index,"querying es for all edges
deleting in bulk
async using async index service
",1.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,0.3529411764705882,0.28915662650602414,0.28915662650602414,0.0
Story,Confirm PUT by Name Does not Fetch/Query ES,We are seeing a large number of fetches/queries when we are doing PUT by name.  This creates load on ES and therefore makes indexing take longer.  We should make sure we're not hitting ES for PUT by name.,1.0,0,1.0,1.0,1.0,1.0,1.0,0.0,1.0,0.3333333333333333,0.4090909090909091,1.0,1.0000000000000002,1.0000000000000002,0.0
Story,[SPIKE] Investigate support for Central Usergrid SSO in the Portal,"If Central Usergrid then the Portal should redirect the user to the central Usergrid instance for login/registration.

And, when the Portal gets an Admin User token from the Central Usergrid SSO system, the Portal must validate it against the Usergrid system with which it is configured to work.

This is a spike to design a possible solution for SSO support in portal.",3.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.5238095238095237,0.5909090909090909,0.2647058823529412,0.3614457831325302,0.3614457831325302,0.0
Story,Complete SNS/SQS async indexing api,"Publish to SNS
Consume from SQS

Complete the SQS indexing impl with the new message endpoint

add new interface for sqs vs in memory service 

",3.0,0,1.0,0.27472527472527475,0.1693548387096774,0.18666666666666668,0.25166825548141086,0.0,0.0,0.2857142857142857,0.16666666666666669,0.3529411764705882,0.5301204819277109,0.5301204819277109,0.0
Bug,Test Not Passing: staleIndexCleanup,Seems like all of the stale entities aren't being cleaned up. ,1.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,0.14705882352941177,0.44578313253012053,0.44578313253012053,0.0
Story,Implement ability to createItemInCollection using the graph.,This should fix the broken test in the EntityManagerIt labeled: ownershipScopeCorrect,3.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,0.14705882352941177,0.44578313253012053,0.44578313253012053,0.0
Story,Docs for new Central Usergrid SSO feature,"This should be documented, it's a nice new feature for Usergrid 1.0.2.",2.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.5238095238095237,0.5909090909090909,0.2647058823529412,0.3614457831325302,0.3614457831325302,0.0
Bug,Exception when trying to post/retrieve an asset from Amazon S3,"2015-04-19 13:50:15,455 ERROR (http-bio-8080-exec-24) [package org.apache.usergrid.rest.exceptions] - Server Error (500):
{""error"":""creation"",""timestamp"":1429465815453,""duration"":2,""exception"":""com.google.inject.CreationException"",""error_description"":""Guice creation errors:\n\n1) No implementation for com.google.common.base.Function<java.lang.String, com.google.common.base.Optional<java.lang.String>> annotated with @org.jclouds.s3.Bucket() was bound.\n  while locating com.google.common.base.Function<java.lang.String, com.google.common.base.Optional<java.lang.String>> annotated with @org.jclouds.s3.Bucket()\n    for parameter 0 at org.jclouds.s3.blobstore.functions.LocationFromBucketName.<init>(LocationFromBucketName.java:52)\n  at org.jclouds.s3.blobstore.config.S3BlobStoreContextModule.configure(S3BlobStoreContextModule.java:60)\n\n2) No implementation for com.google.common.base.Function<java.util.Set<org.jclouds.s3.domain.BucketMetadata>, org.jclouds.blobstore.domain.PageSet<? extends org.jclouds.blobstore.domain.StorageMetadata>> was bound.\n  while locating com.google.common.base.Function<java.util.Set<org.jclouds.s3.domain.BucketMetadata>, org.jclouds.blobstore.domain.PageSet<? extends org.jclouds.blobstore.domain.StorageMetadata>>\n    for parameter 7 at org.jclouds.aws.s3.blobstore.AWSS3AsyncBlobStore.<init>(AWSS3AsyncBlobStore.java:85)\n  at org.jclouds.aws.s3.blobstore.config.AWSS3BlobStoreContextModule.configure(AWSS3BlobStoreContextModule.java:43)\n\n3) No implementation for com.google.common.base.Function<java.util.Set<org.jclouds.s3.domain.BucketMetadata>, org.jclouds.blobstore.domain.PageSet<? extends org.jclouds.blobstore.domain.StorageMetadata>> was bound.\n  while locating com.google.common.base.Function<java.util.Set<org.jclouds.s3.domain.BucketMetadata>, org.jclouds.blobstore.domain.PageSet<? extends org.jclouds.blobstore.domain.StorageMetadata>>\n    for parameter 7 at org.jclouds.aws.s3.blobstore.AWSS3AsyncBlobStore.<init>(AWSS3AsyncBlobStore.java:85)\n  while locating org.jclouds.aws.s3.blobstore.AWSS3AsyncBlobStore\n    for parameter 0 at org.jclouds.aws.s3.blobstore.strategy.internal.ParallelMultipartUploadStrategy.<init>(ParallelMultipartUploadStrategy.java:101)\n  at org.jclouds.aws.s3.blobstore.config.AWSS3BlobStoreContextModule.configure(AWSS3BlobStoreContextModule.java:46)\n\n4) No implementation for com.google.common.base.Function<java.util.Set<org.jclouds.s3.domain.BucketMetadata>, org.jclouds.blobstore.domain.PageSet<? extends org.jclouds.blobstore.domain.StorageMetadata>> was bound.\n  while locating com.google.common.base.Function<java.util.Set<org.jclouds.s3.domain.BucketMetadata>, org.jclouds.blobstore.domain.PageSet<? extends org.jclouds.blobstore.domain.StorageMetadata>>\n    for parameter 5 at org.jclouds.aws.s3.blobstore.AWSS3BlobStore.<init>(AWSS3BlobStore.java:77)\n  at org.jclouds.aws.s3.blobstore.config.AWSS3BlobStoreContextModule.configure(AWSS3BlobStoreContextModule.java:44)\n\n5) No implementation for org.jclouds.blobstore.domain.Blob$Factory was bound.\n  while locating org.jclouds.blobstore.domain.Blob$Factory\n    for parameter 0 at org.jclouds.s3.blobstore.functions.ObjectToBlob.<init>(ObjectToBlob.java:39)\n  while locating org.jclouds.s3.blobstore.functions.ObjectToBlob\n    for parameter 10 at org.jclouds.aws.s3.blobstore.AWSS3AsyncBlobStore.<init>(AWSS3AsyncBlobStore.java:85)\n  at org.jclouds.aws.s3.blobstore.config.AWSS3BlobStoreContextModule.configure(AWSS3BlobStoreContextModule.java:43)\n\n6) No implementation for org.jclouds.blobstore.domain.Blob$Factory was bound.\n  while locating org.jclouds.blobstore.domain.Blob$Factory\n    for parameter 0 at org.jclouds.s3.blobstore.functions.ObjectToBlob.<init>(ObjectToBlob.java:39)\n  while locating org.jclouds.s3.blobstore.functions.ObjectToBlob\n    for parameter 8 at org.jclouds.aws.s3.blobstore.AWSS3BlobStore.<init>(AWSS3BlobStore.java:77)\n  at org.jclouds.aws.s3.blobstore.config.AWSS3BlobStoreContextModule.configure(AWSS3BlobStoreContextModule.java:44)\n\n7) No implementation for org.jclouds.blobstore.domain.Blob$Factory was bound.\n  while locating org.jclouds.blobstore.domain.Blob$Factory\n    for parameter 0 at org.jclouds.s3.blobstore.functions.ObjectToBlob.<init>(ObjectToBlob.java:39)\n  while locating org.jclouds.s3.blobstore.functions.ObjectToBlob\n    for parameter 10 at org.jclouds.aws.s3.blobstore.AWSS3AsyncBlobStore.<init>(AWSS3AsyncBlobStore.java:85)\n  while locating org.jclouds.aws.s3.blobstore.AWSS3AsyncBlobStore\n    for parameter 0 at org.jclouds.aws.s3.blobstore.strategy.internal.ParallelMultipartUploadStrategy.<init>(ParallelMultipartUploadStrategy.java:101)\n  at org.jclouds.aws.s3.blobstore.config.AWSS3BlobStoreContextModule.configure(AWSS3BlobStoreContextModule.java:46)\n\n8) No implementation for org.jclouds.s3.domain.S3Object$Factory was bound.\n  while locating org.jclouds.s3.domain.S3Object$Factory\n    for parameter 1 at org.jclouds.s3.blobstore.functions.BlobToObject.<init>(BlobToObject.java:38)\n  while locating org.jclouds.s3.blobstore.functions.BlobToObject\n    for parameter 1 at org.jclouds.aws.s3.blobstore.AWSS3BlobRequestSigner.<init>(AWSS3BlobRequestSigner.java:64)\n  at org.jclouds.aws.s3.blobstore.config.AWSS3BlobStoreContextModule.bindRequestSigner(AWSS3BlobStoreContextModule.java:51)\n\n9) No implementation for org.jclouds.s3.domain.S3Object$Factory was bound.\n  while locating org.jclouds.s3.domain.S3Object$Factory\n    for parameter 1 at org.jclouds.s3.blobstore.functions.BlobToObject.<init>(BlobToObject.java:38)\n  while locating org.jclouds.s3.blobstore.functions.BlobToObject\n    for parameter 12 at org.jclouds.aws.s3.blobstore.AWSS3AsyncBlobStore.<init>(AWSS3AsyncBlobStore.java:85)\n  at org.jclouds.aws.s3.blobstore.config.AWSS3BlobStoreContextModule.configure(AWSS3BlobStoreContextModule.java:43)\n\n10) No implementation for org.jclouds.s3.domain.S3Object$Factory was bound.\n  while locating org.jclouds.s3.domain.S3Object$Factory\n    for parameter 1 at org.jclouds.s3.blobstore.functions.BlobToObject.<init>(BlobToObject.java:38)\n  while locating org.jclouds.s3.blobstore.functions.BlobToObject\n    for parameter 10 at org.jclouds.aws.s3.blobstore.AWSS3BlobStore.<init>(AWSS3BlobStore.java:77)\n  at org.jclouds.aws.s3.blobstore.config.AWSS3BlobStoreContextModule.configure(AWSS3BlobStoreContextModule.java:44)\n\n11) No implementation for org.jclouds.s3.domain.S3Object$Factory was bound.\n  while locating org.jclouds.s3.domain.S3Object$Factory\n    for parameter 1 at org.jclouds.s3.blobstore.functions.BlobToObject.<init>(BlobToObject.java:38)\n  while locating org.jclouds.s3.blobstore.functions.BlobToObject\n    for parameter 1 at org.jclouds.aws.s3.blobstore.strategy.internal.SequentialMultipartUploadStrategy.<init>(SequentialMultipartUploadStrategy.java:66)\n  at org.jclouds.aws.s3.blobstore.config.AWSS3BlobStoreContextModule.configure(AWSS3BlobStoreContextModule.java:45)\n\n12) No implementation for org.jclouds.s3.domain.S3Object$Factory was bound.\n  while locating org.jclouds.s3.domain.S3Object$Factory\n    for parameter 1 at org.jclouds.s3.blobstore.functions.BlobToObject.<init>(BlobToObject.java:38)\n  while locating org.jclouds.s3.blobstore.functions.BlobToObject\n    for parameter 12 at org.jclouds.aws.s3.blobstore.AWSS3AsyncBlobStore.<init>(AWSS3AsyncBlobStore.java:85)\n  while locating org.jclouds.aws.s3.blobstore.AWSS3AsyncBlobStore\n    for parameter 0 at org.jclouds.aws.s3.blobstore.strategy.internal.ParallelMultipartUploadStrategy.<init>(ParallelMultipartUploadStrategy.java:101)\n  at org.jclouds.aws.s3.blobstore.config.AWSS3BlobStoreContextModule.configure(AWSS3BlobStoreContextModule.java:46)\n\n13) org.jclouds.rest.config.SyncToAsyncHttpApiProvider<org.jclouds.rest.HttpClient, A> cannot be used as a key; It is not fully specified.\n\n14) org.jclouds.rest.config.SyncToAsyncHttpApiProvider<org.jclouds.aws.s3.AWSS3Client, A> cannot be used as a key; It is not fully specified.\n\n15) org.jclouds.rest.RestContext<org.jclouds.aws.s3.AWSS3Client, A> cannot be used as a key; It is not fully specified.\n\n16) No implementation for org.jclouds.rest.HttpClient was bound.\n  at org.jclouds.rest.config.BinderUtils.bindHttpApiProvider(BinderUtils.java:107)\n\n17) No implementation for org.jclouds.aws.s3.AWSS3Client was bound.\n  at org.jclouds.rest.config.BinderUtils.bindHttpApiProvider(BinderUtils.java:107)\n\n17 errors""}
2015-04-19 13:50:19,598 ERROR (http-bio-8080-exec-25) [package org.apache.usergrid.rest.exceptions] - com.google.inject.CreationException Server Error (500)
com.google.inject.CreationException: Guice creation errors:

1) No implementation for com.google.common.base.Function<java.lang.String, com.google.common.base.Optional<java.lang.String>> annotated with @org.jclouds.s3.Bucket() was bound.
  while locating com.google.common.base.Function<java.lang.String, com.google.common.base.Optional<java.lang.String>> annotated with @org.jclouds.s3.Bucket()
    for parameter 0 at org.jclouds.s3.blobstore.functions.LocationFromBucketName.<init>(LocationFromBucketName.java:52)
  at org.jclouds.s3.blobstore.config.S3BlobStoreContextModule.configure(S3BlobStoreContextModule.java:60)

2) No implementation for com.google.common.base.Function<java.util.Set<org.jclouds.s3.domain.BucketMetadata>, org.jclouds.blobstore.domain.PageSet<? extends org.jclouds.blobstore.domain.StorageMetadata>> was bound.
  while locating com.google.common.base.Function<java.util.Set<org.jclouds.s3.domain.BucketMetadata>, org.jclouds.blobstore.domain.PageSet<? extends org.jclouds.blobstore.domain.StorageMetadata>>
    for parameter 7 at org.jclouds.aws.s3.blobstore.AWSS3AsyncBlobStore.<init>(AWSS3AsyncBlobStore.java:85)
  at org.jclouds.aws.s3.blobstore.config.AWSS3BlobStoreContextModule.configure(AWSS3BlobStoreContextModule.java:43)

3) No implementation for com.google.common.base.Function<java.util.Set<org.jclouds.s3.domain.BucketMetadata>, org.jclouds.blobstore.domain.PageSet<? extends org.jclouds.blobstore.domain.StorageMetadata>> was bound.
  while locating com.google.common.base.Function<java.util.Set<org.jclouds.s3.domain.BucketMetadata>, org.jclouds.blobstore.domain.PageSet<? extends org.jclouds.blobstore.domain.StorageMetadata>>
    for parameter 7 at org.jclouds.aws.s3.blobstore.AWSS3AsyncBlobStore.<init>(AWSS3AsyncBlobStore.java:85)
  while locating org.jclouds.aws.s3.blobstore.AWSS3AsyncBlobStore
    for parameter 0 at org.jclouds.aws.s3.blobstore.strategy.internal.ParallelMultipartUploadStrategy.<init>(ParallelMultipartUploadStrategy.java:101)
  at org.jclouds.aws.s3.blobstore.config.AWSS3BlobStoreContextModule.configure(AWSS3BlobStoreContextModule.java:46)

4) No implementation for com.google.common.base.Function<java.util.Set<org.jclouds.s3.domain.BucketMetadata>, org.jclouds.blobstore.domain.PageSet<? extends org.jclouds.blobstore.domain.StorageMetadata>> was bound.
  while locating com.google.common.base.Function<java.util.Set<org.jclouds.s3.domain.BucketMetadata>, org.jclouds.blobstore.domain.PageSet<? extends org.jclouds.blobstore.domain.StorageMetadata>>
    for parameter 5 at org.jclouds.aws.s3.blobstore.AWSS3BlobStore.<init>(AWSS3BlobStore.java:77)
  at org.jclouds.aws.s3.blobstore.config.AWSS3BlobStoreContextModule.configure(AWSS3BlobStoreContextModule.java:44)

5) No implementation for org.jclouds.blobstore.domain.Blob$Factory was bound.
  while locating org.jclouds.blobstore.domain.Blob$Factory
    for parameter 0 at org.jclouds.s3.blobstore.functions.ObjectToBlob.<init>(ObjectToBlob.java:39)
  while locating org.jclouds.s3.blobstore.functions.ObjectToBlob
    for parameter 10 at org.jclouds.aws.s3.blobstore.AWSS3AsyncBlobStore.<init>(AWSS3AsyncBlobStore.java:85)
  at org.jclouds.aws.s3.blobstore.config.AWSS3BlobStoreContextModule.configure(AWSS3BlobStoreContextModule.java:43)

6) No implementation for org.jclouds.blobstore.domain.Blob$Factory was bound.
  while locating org.jclouds.blobstore.domain.Blob$Factory
    for parameter 0 at org.jclouds.s3.blobstore.functions.ObjectToBlob.<init>(ObjectToBlob.java:39)
  while locating org.jclouds.s3.blobstore.functions.ObjectToBlob
    for parameter 8 at org.jclouds.aws.s3.blobstore.AWSS3BlobStore.<init>(AWSS3BlobStore.java:77)
  at org.jclouds.aws.s3.blobstore.config.AWSS3BlobStoreContextModule.configure(AWSS3BlobStoreContextModule.java:44)

7) No implementation for org.jclouds.blobstore.domain.Blob$Factory was bound.
  while locating org.jclouds.blobstore.domain.Blob$Factory
    for parameter 0 at org.jclouds.s3.blobstore.functions.ObjectToBlob.<init>(ObjectToBlob.java:39)
  while locating org.jclouds.s3.blobstore.functions.ObjectToBlob
    for parameter 10 at org.jclouds.aws.s3.blobstore.AWSS3AsyncBlobStore.<init>(AWSS3AsyncBlobStore.java:85)
  while locating org.jclouds.aws.s3.blobstore.AWSS3AsyncBlobStore
    for parameter 0 at org.jclouds.aws.s3.blobstore.strategy.internal.ParallelMultipartUploadStrategy.<init>(ParallelMultipartUploadStrategy.java:101)
  at org.jclouds.aws.s3.blobstore.config.AWSS3BlobStoreContextModule.configure(AWSS3BlobStoreContextModule.java:46)

8) No implementation for org.jclouds.s3.domain.S3Object$Factory was bound.
  while locating org.jclouds.s3.domain.S3Object$Factory
    for parameter 1 at org.jclouds.s3.blobstore.functions.BlobToObject.<init>(BlobToObject.java:38)
  while locating org.jclouds.s3.blobstore.functions.BlobToObject
    for parameter 1 at org.jclouds.aws.s3.blobstore.AWSS3BlobRequestSigner.<init>(AWSS3BlobRequestSigner.java:64)
  at org.jclouds.aws.s3.blobstore.config.AWSS3BlobStoreContextModule.bindRequestSigner(AWSS3BlobStoreContextModule.java:51)

9) No implementation for org.jclouds.s3.domain.S3Object$Factory was bound.
  while locating org.jclouds.s3.domain.S3Object$Factory
    for parameter 1 at org.jclouds.s3.blobstore.functions.BlobToObject.<init>(BlobToObject.java:38)
  while locating org.jclouds.s3.blobstore.functions.BlobToObject
    for parameter 12 at org.jclouds.aws.s3.blobstore.AWSS3AsyncBlobStore.<init>(AWSS3AsyncBlobStore.java:85)
  at org.jclouds.aws.s3.blobstore.config.AWSS3BlobStoreContextModule.configure(AWSS3BlobStoreContextModule.java:43)

10) No implementation for org.jclouds.s3.domain.S3Object$Factory was bound.
  while locating org.jclouds.s3.domain.S3Object$Factory
    for parameter 1 at org.jclouds.s3.blobstore.functions.BlobToObject.<init>(BlobToObject.java:38)
  while locating org.jclouds.s3.blobstore.functions.BlobToObject
    for parameter 10 at org.jclouds.aws.s3.blobstore.AWSS3BlobStore.<init>(AWSS3BlobStore.java:77)
  at org.jclouds.aws.s3.blobstore.config.AWSS3BlobStoreContextModule.configure(AWSS3BlobStoreContextModule.java:44)

11) No implementation for org.jclouds.s3.domain.S3Object$Factory was bound.
  while locating org.jclouds.s3.domain.S3Object$Factory
    for parameter 1 at org.jclouds.s3.blobstore.functions.BlobToObject.<init>(BlobToObject.java:38)
  while locating org.jclouds.s3.blobstore.functions.BlobToObject
    for parameter 1 at org.jclouds.aws.s3.blobstore.strategy.internal.SequentialMultipartUploadStrategy.<init>(SequentialMultipartUploadStrategy.java:66)
  at org.jclouds.aws.s3.blobstore.config.AWSS3BlobStoreContextModule.configure(AWSS3BlobStoreContextModule.java:45)

12) No implementation for org.jclouds.s3.domain.S3Object$Factory was bound.
  while locating org.jclouds.s3.domain.S3Object$Factory
    for parameter 1 at org.jclouds.s3.blobstore.functions.BlobToObject.<init>(BlobToObject.java:38)
  while locating org.jclouds.s3.blobstore.functions.BlobToObject
    for parameter 12 at org.jclouds.aws.s3.blobstore.AWSS3AsyncBlobStore.<init>(AWSS3AsyncBlobStore.java:85)
  while locating org.jclouds.aws.s3.blobstore.AWSS3AsyncBlobStore
    for parameter 0 at org.jclouds.aws.s3.blobstore.strategy.internal.ParallelMultipartUploadStrategy.<init>(ParallelMultipartUploadStrategy.java:101)
  at org.jclouds.aws.s3.blobstore.config.AWSS3BlobStoreContextModule.configure(AWSS3BlobStoreContextModule.java:46)

13) org.jclouds.rest.config.SyncToAsyncHttpApiProvider<org.jclouds.rest.HttpClient, A> cannot be used as a key; It is not fully specified.

14) org.jclouds.rest.config.SyncToAsyncHttpApiProvider<org.jclouds.aws.s3.AWSS3Client, A> cannot be used as a key; It is not fully specified.

15) org.jclouds.rest.RestContext<org.jclouds.aws.s3.AWSS3Client, A> cannot be used as a key; It is not fully specified.

16) No implementation for org.jclouds.rest.HttpClient was bound.
  at org.jclouds.rest.config.BinderUtils.bindHttpApiProvider(BinderUtils.java:107)

17) No implementation for org.jclouds.aws.s3.AWSS3Client was bound.
  at org.jclouds.rest.config.BinderUtils.bindHttpApiProvider(BinderUtils.java:107)

17 errors
	at com.google.inject.internal.Errors.throwCreationExceptionIfErrorsExist(Errors.java:435)
	at com.google.inject.internal.InternalInjectorCreator.initializeStatically(InternalInjectorCreator.java:154)
	at com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:106)
	at com.google.inject.Guice.createInjector(Guice.java:95)
	at org.jclouds.ContextBuilder.buildInjector(ContextBuilder.java:405)
	at org.jclouds.ContextBuilder.buildInjector(ContextBuilder.java:329)
	at org.jclouds.ContextBuilder.buildView(ContextBuilder.java:620)
	at org.jclouds.ContextBuilder.buildView(ContextBuilder.java:600)
	at org.apache.usergrid.services.assets.data.S3BinaryStore.getContext(S3BinaryStore.java:87)
	at org.apache.usergrid.services.assets.data.S3BinaryStore.read(S3BinaryStore.java:190)
	at org.apache.usergrid.services.assets.data.S3BinaryStore.read(S3BinaryStore.java:208)
	at org.apache.usergrid.rest.applications.ServiceResource.executeStreamGet(ServiceResource.java:642)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at com.sun.jersey.spi.container.JavaMethodInvokerFactory$1.invoke(JavaMethodInvokerFactory.java:60)
	at com.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$ResponseOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:205)
	at com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75)
	at com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:302)
	at com.sun.jersey.server.impl.uri.rules.SubLocatorRule.accept(SubLocatorRule.java:137)
	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
	at com.sun.jersey.server.impl.uri.rules.SubLocatorRule.accept(SubLocatorRule.java:137)
	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
	at com.sun.jersey.server.impl.uri.rules.SubLocatorRule.accept(SubLocatorRule.java:137)
	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
	at com.sun.jersey.server.impl.uri.rules.SubLocatorRule.accept(SubLocatorRule.java:137)
	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
	at com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108)
	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
	at com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84)
	at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1542)
	at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1473)
	at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1419)
	at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1409)
	at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:409)
	at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:540)
	at com.sun.jersey.spi.container.servlet.ServletContainer.doFilter(ServletContainer.java:909)
	at com.sun.jersey.spi.container.servlet.ServletContainer.doFilter(ServletContainer.java:857)
	at com.sun.jersey.spi.container.servlet.ServletContainer.doFilter(ServletContainer.java:811)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449)
	at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365)
	at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90)
	at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83)
	at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:380)
	at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362)
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:259)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.usergrid.rest.filters.ContentTypeFilter.doFilter(ContentTypeFilter.java:91)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:503)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1070)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
",3.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.5238095238095237,0.5909090909090909,0.029411764705882353,0.0,0.0,0.0
Story,Make all Cassandra keyspace names configurable,"This has already been done in the two-dot-o branch.

Fixing it in 1.0 will be a little different. 

These keyspace names are hard-coded into Java code:
- Usergrid
- Usergrid_Applications

and the Locks keyspace name is hardcoded into a Spring config.",3.0,1.0.1,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.5238095238095237,0.5909090909090909,0.2647058823529412,0.3614457831325302,0.3614457831325302,0.4950990099009901
Story,Add metrics to external token validation endpoint,"Use the MetricsFactory to add metrics for successful token validations,  unsuccessful token validations and local admin user creation.

For more about external token validation see Usergrid-567",3.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.5238095238095237,0.5909090909090909,0.2647058823529412,0.3614457831325302,0.3614457831325302,0.0
Story,Disable Admin User signups when external token validation enabled,"When external token validation is enabled (see Usergrid-567) and a Usergrid system is delegating authentication to some other central Usergrid for SSO purposes, then new Admin Users should register ONLY with that central Usergrid.

",3.0,1.0.1,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.5238095238095237,0.5909090909090909,0.2647058823529412,0.3614457831325302,0.3614457831325302,0.4950990099009901
Story,Add a query parameter to enable the hiding of sensitive information in API resposnes,"Please add a setting that can prevent the qparams from being returned in a response, and/or add a filter for accessToken and ClientID/ClientSecret to not be returned in a response.",1.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.045454545454545456,1.0,1.0000000000000002,1.0000000000000002,0.0
Story,[SPIKE] Ability for one Usergrid instance to delegate authentication to another ,Design forthcoming.,3.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.5238095238095237,0.5909090909090909,0.2647058823529412,0.3614457831325302,0.3614457831325302,0.0
Bug,Portal appears to hang when it gets a 401,When logging into the portal it appears to hang when a 401 is returned from https://stage-exchange-prod.apigee.net/appservices/management/users/{email}.  We should catch this error and handle it better.,1.0,0,1.0,0.8846153846153847,0.14516129032258066,0.33333333333333337,0.10390848427073403,0.0,0.24050632911392406,0.19047619047619047,0.06060606060606061,1.0,1.0000000000000002,1.0000000000000002,0.0
Story,Ensure USERGRID-530 is addressed in two-dot-o(-dev),https://issues.apache.org/jira/browse/USERGRID-530.  Make sure it gets in 2.0,3.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,1.0,1.0000000000000002,1.0000000000000002,0.0
Story,[FIXED?] Add re-index resume,"We need the ability to resume re-indexing.  To do this, we should make the AllEntitiesObservable allow for resume by default.  This way if the node performing the migration fails, it can be restarted on another node.

Note that we also need a way to clear state via REST, so that we can restart our indexing.",3.0,0,0.0,0.9505494505494506,0.932258064516129,0.8133333333333334,0.9656816015252622,0.0,0.7848101265822784,0.5714285714285714,0.5909090909090909,0.3529411764705882,0.5301204819277109,0.5301204819277109,0.0
Story,Update Index prefix for management app to use the cassandra keyspace name,We need to replicate and test the reindex oscillation issue in the e2e environment.,1.0,0,1.0,1.0,1.0,1.0,1.0,0.0,1.0,0.3333333333333333,0.4090909090909091,1.0,1.0000000000000002,1.0000000000000002,0.0
Story,Endpoint for checking storage consumed,"As we move to separate keyspaces for each tenant we need to have an endpoint to monitor storage consumed for the keyspace.  This will be followed by the ability to show data consumed in the console and notifications when storage consumed is at X%.

1. add size to entities
2. add size to index.
3. migrate field mapping in index
4. add endpoint for getting storage by app

api is management/orgs/orgname/applications/appname/size
or management/orgs/orgname/applications/appname/size/collectionName",3.0,0,1.0,1.0,1.0,1.0,1.0,0.0,1.0,0.3333333333333333,0.4090909090909091,1.0,1.0000000000000002,1.0000000000000002,0.0
Story,[SPIKE] Deadletter - Figure out why some entities are having indexing problems,"we have some entities that are having indexing issues, with 6,011 at this time in a dead letter queue.  we need to understand why these are having indexing issues.",3.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,1.0000000000000002,1.0000000000000002,0.0
Story,Add Queue Length to /status page,"Add queue length (SQS, akka, etc.) to the data returned by /status",3.0,0,1.0,1.0,1.0,1.0,1.0,0.0,1.0,0.3333333333333333,0.4090909090909091,1.0,1.0000000000000002,1.0000000000000002,0.0
Bug,Test Not Passing: CPHeadEntityNull in Services tests,"Tests in error:
  EmailFlowIT.testAppUserActivationResetpwdMail:287  IllegalArgument cpHeadEnti...
  EmailFlowIT.testAppUserConfirmationMail:376  IllegalArgument cpHeadEntity can...
  OrganizationIT.testCreateOrganization:91  IllegalArgument cpHeadEntity cannot...",3.0,0,0.0,1.0,1.0,1.0,1.0,0.0,1.0,0.3333333333333333,0.4090909090909091,0.3529411764705882,0.28915662650602414,0.28915662650602414,0.0
Story,Improve uncaught errors' http response,"When an uncaught exception happens in stack's rest layer, we throw the java error in response to the user. Such responses could just say internal server error. And as [~tnine] suggested, we could add a time uuid to the error response, so we can correlate the error in logs and track the error down for the user. ",1.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.045454545454545456,0.0,0.0,0.0,0.0
Story,Change our index structure for static mapping and cleanup api,"Currently, our dynamic mapping causes several issues with elastic search.  We should change our mapping to use a static structure, and resolve this operational pain.

We need to make the following changes.

h2. Modify our IndexScope

This should more closely resemble the elements of an edge since this represents an edge. It will simplify the use of our query module and make development clearer.  This scope should be refactored into the following objects.  

* IndexEdge - Id, name, timestamp, edgeType (source or target)
* SearchEdge - Id, name, edgeType

Note: edgeType is the type of the Id within the edge.  Does this Id represent a source Id, or does it represent a targetId?  The entity to be indexed will implicitly be the opposite of the type specified.  I.E if it's a source edge, the document is the target.  If it's a target edge, the document is the source.

These values should also be stored within our document, so that we can index our documents.  Note that we perform bidirectional indexing in some cases, such was users, groups etc.  When we do this, we need to ensure that mark the direction of the edge appropriately.

h2. Change default sort ordering

When sorting is unspecified, we should order by timestamp descending from our index edge.  This ensures that we retain the correct edge time semantics, and will properly order collections and connections

h2. Remove the legacy query class

We don't need the Query class, it has far too many functions to be a well encapsulated object.  Instead, we should simply take the string QL, the SearchEdge and the limit to return our candidates.  From there, we should parse and visit the query internally to the query logic, NOT externally.

h2. Create a static mapping

The mapping should contains the following static fields.

* entityId - The entity id
* entityType - The entity type (from the id)
* entityVersion - The entity version
* edgeId - The edge Id
* edgeName - The edge name
* edgeTimestamp - The edge timestamp
* edgeType - source | target
* edgeSearch - edgeId + edgeName + edgeType


It will then contain an array of ""fields""  Each of these fields will have the following formation.

{code}
{ ""name"":""[entity field name as a path]"", ""[field type]"":[field value}
{code}



We will define a field type for each type of field.  Note that each field tuple will always contain a single field and a single value.  Possible field types are the following.

* string - This will be mapped into 2 mapping with multi mappings.  It will be a string unanalyzed, and an analyzed string.  The 2 fields will then be ""string_u"" and ""string_a"".  The Query visitor will need to update the field name appropriately
* long - An unanalyzed long
* double - An unanalyzed double
* boolean - An unanalyzed boolean
* location - A geolocation field
* uuid - A UUID stored as an unanalyzed string

The entity path will be a flattened path from the root json element to the max json element.  It can be though of as a path through the tree of json elements.  We will use a dot '.' to delimit the fields.  X.Y.Z for nested objects.  Primitive arrays will contain a field object for each element in the array.

h2. Indexing

  When indexing entities, we will no longer modify or prefix field names.  They will be inserted into the value exactly as their path appears after lower case.

h2. Querying

  When querying, the ""contains"" operation for a string will need to use the ""string_a"" data type.  When using =, we will need to use the string_u data type.  Each criteria will need to use nested object querying, to ensure the property name and property value are both part of the same field tuple.


h3. References

Multi Field Mapping: http://www.elastic.co/guide/en/elasticsearch/reference/current/_multi_fields.html
Nested Objects: http://www.elastic.co/guide/en/elasticsearch/guide/current/nested-objects.html
Nested Object Search: http://www.elastic.co/guide/en/elasticsearch/guide/master/nested-sorting.html



",2.0,0,0.0,0.9505494505494506,0.932258064516129,0.8133333333333334,0.9656816015252622,0.0,0.7848101265822784,0.5714285714285714,0.5909090909090909,0.3529411764705882,0.5301204819277109,0.5301204819277109,0.0
Story,[SPIKE] Look into broken tests and open tickets,Take a look at REST and CORE tests to see what needs to be cleaned up to stabilize for upcoming release.,3.0,0,1.0,1.0,1.0,1.0,1.0,0.0,1.0,0.3333333333333333,0.4090909090909091,1.0,1.0000000000000002,1.0000000000000002,0.0
Story, Load Test with 2.1,Test load with the frankenloader in e2e for the upcoming release,3.0,0,0.0,0.27472527472527475,0.1693548387096774,0.18666666666666668,0.25166825548141086,0.0,0.0,0.2857142857142857,0.16666666666666669,1.0,1.0000000000000002,1.0000000000000002,0.0
Story,REST Test for Create App not returning,Ensure we create >11 apps and that it works.,2.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.5238095238095237,0.5909090909090909,1.0,1.0000000000000002,1.0000000000000002,0.0
Bug,Deleting a connection to an Asset should not delete the Asset's data,"Steps to reproduce:
1) Create asset entity
2) Create entity
3) Create connection from entity to asset entity
4) Delete connection
5) Asset JSON still present, Asset data is now gone

",1.0,1.0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.5238095238095237,0.5909090909090909,0.2647058823529412,0.3614457831325302,0.3614457831325302,0.49504950495049505
Bug,iOS Push Notification Errors,"See the following ticket: https://apigeesc.atlassian.net/browse/APIBAAS-1525.

2015-03-31 13:57:37,870 ERROR (pool-525-thread-1) [org.apache.usergrid.services.notifications.apns.RejectedAPNsListener] - Failed to register push connection
java.nio.channels.ClosedChannelException
2015-03-31 13:57:37,872 ERROR (pool-525-thread-1) [org.apache.usergrid.services.notifications.apns.RejectedAPNsListener] - Failed to register push connection
java.nio.channels.ClosedChannelException
2015-03-31 13:57:37,873 ERROR (pool-525-thread-1) [org.apache.usergrid.services.notifications.apns.RejectedAPNsListener] - Failed to register push connection
java.nio.channels.ClosedChannelException
2015-03-31 13:57:37,881 ERROR (pool-525-thread-1) [org.apache.usergrid.services.notifications.apns.RejectedAPNsListener] - Failed to register push connection
java.nio.channels.ClosedChannelException
2015-03-31 13:57:38,080 ERROR (pool-525-thread-1) [org.apache.usergrid.services.notifications.apns.RejectedAPNsListener] - Failed to register push connection
java.nio.channels.ClosedChannelException
2015-03-31 13:57:38,084 ERROR (pool-525-thread-1) [org.apache.usergrid.services.notifications.apns.RejectedAPNsListener] - Failed to register push connection
java.nio.channels.ClosedChannelException
2015-03-31 13:57:38,085 ERROR (pool-525-thread-1) [org.apache.usergrid.services.notifications.apns.RejectedAPNsListener] - Failed to register push connection
java.nio.channels.ClosedChannelException
2015-03-31 13:57:38,093 ERROR (pool-525-thread-1) [org.apache.usergrid.services.notifications.apns.RejectedAPNsListener] - Failed to register push connection
java.nio.channels.ClosedChannelException
2015-03-31 13:57:38,292 ERROR (pool-525-thread-1) [org.apache.usergrid.services.notifications.apns.RejectedAPNsListener] - Failed to register push connection
java.nio.channels.ClosedChannelException
2015-03-31 13:57:38,299 ERROR (pool-525-thread-1) [org.apache.usergrid.services.notifications.apns.RejectedAPNsListener] - Failed to register push connection
java.nio.channels.ClosedChannelException
2015-03-31 13:57:38,300 ERROR (pool-525-thread-1) [org.apache.usergrid.services.notifications.apns.RejectedAPNsListener] - Failed to register push connection
java.nio.channels.ClosedChannelException
2015-03-31 13:57:38,304 ERROR (pool-525-thread-1) [org.apache.usergrid.services.notifications.apns.RejectedAPNsListener] - Failed to register push connection
java.nio.channels.ClosedChannelException
2015-03-31 13:57:38,510 ERROR (pool-525-thread-1) [org.apache.usergrid.services.notifications.apns.RejectedAPNsListener] - Failed to register push connection
java.nio.channels.ClosedChannelException
2015-03-31 13:57:38,511 ERROR (pool-525-thread-1) [org.apache.usergrid.services.notifications.apns.RejectedAPNsListener] - Failed to register push connection
java.nio.channels.ClosedChannelException
2015-03-31 13:57:38,513 ERROR (pool-525-thread-1) [org.apache.usergrid.services.notifications.apns.RejectedAPNsListener] - Failed to register push connection
java.nio.channels.ClosedChannelException
2015-03-31 13:57:38,517 ERROR (pool-525-thread-1) [org.apache.usergrid.services.notifications.apns.RejectedAPNsListener] - Failed to register push connection
java.nio.channels.ClosedChannelException
2015-03-31 13:57:38,723 ERROR (pool-525-thread-1) [org.apache.usergrid.services.notifications.apns.RejectedAPNsListener] - Failed to register push connection
java.nio.channels.ClosedChannelException
2015-03-31 13:57:38,724 ERROR (pool-525-thread-1) [org.apache.usergrid.services.notifications.apns.RejectedAPNsListener] - Failed to register push connection
java.nio.channels.ClosedChannelException
2015-03-31 13:57:38,725 ERROR (pool-525-thread-1) [org.apache.usergrid.services.notifications.apns.RejectedAPNsListener] - Failed to register push connection
java.nio.channels.ClosedChannelException
2015-03-31 13:57:38,729 ERROR (pool-525-thread-1) [org.apache.usergrid.services.notifications.apns.RejectedAPNsListener] - Failed to register push connection
java.nio.channels.ClosedChannelException
2015-03-31 13:57:38,935 ERROR (pool-525-thread-1) [org.apache.usergrid.services.notifications.apns.RejectedAPNsListener] - Failed to register push connection
java.nio.channels.ClosedChannelException
2015-03-31 13:57:38,936 ERROR (pool-525-thread-1) [org.apache.usergrid.services.notifications.apns.RejectedAPNsListener] - Failed to register push connection
java.nio.channels.ClosedChannelException
2015-03-31 13:57:38,938 ERROR (pool-525-thread-1) [org.apache.usergrid.services.notifications.apns.RejectedAPNsListener] - Failed to register push connection
java.nio.channels.ClosedChannelException
2015-03-31 13:57:38,941 ERROR (pool-525-thread-1) [org.apache.usergrid.services.notifications.apns.RejectedAPNsListener] - Failed to register push connection
java.nio.channels.ClosedChannelException
2015-03-31 13:57:39,146 ERROR (pool-525-thread-1) [org.apache.usergrid.services.notifications.apns.RejectedAPNsListener] - Failed to register push connection
java.nio.channels.ClosedChannelException
2015-03-31 13:57:39,147 ERROR (pool-525-thread-1) [org.apache.usergrid.services.notifications.apns.RejectedAPNsListener] - Failed to register push connection
",3.0,1.0.0,1.0,1.0,1.0,1.0,1.0,0.0,1.0,0.3333333333333333,0.4090909090909091,1.0,1.0000000000000002,1.0000000000000002,0.49504950495049505
Story,Write external ES test to ensure we get even routing across the ES cluster,"One of the problems we have faced is uneven distribution in the ES cluster.  We have made changes for document routing that seemed to help, but we are still getting hot nodes in the cluster.  We need to have a test that hits ES directly with load as UG would do to test our cluster distribution.",3.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.045454545454545456,1.0,1.0000000000000002,1.0000000000000002,0.0
Bug,BaaS Queries returning Entities which do not match the input Query,Error,3.0,0,0.0,0.27472527472527475,0.1693548387096774,0.18666666666666668,0.25166825548141086,0.0,0.0,0.2857142857142857,0.16666666666666669,1.0,1.0000000000000002,1.0000000000000002,0.0
Bug,[SPIKE] Creating collections in the portal throws an error,"The '+' button to create a collection in the UI does not work.  

In Chrome dev tools it looks like it is doing a PUT to this URL: https://{host}/{org}/{app}/?access_token={token} with this request data: {""metadata"":{""collections"":{""foo"":{}}}}

And the response looks like this:
duration: 6
error: ""entity_not_found""
error_description: ""Cannot restore. Deleted Application not found: 5ab1ef5c-7f4c-11e4-9bb8-0ad113d917ad""
exception: ""org.apache.usergrid.persistence.exceptions.EntityNotFoundException""
timestamp: 1427291983254

Open tickets to do the fixes as necessary",1.0,0,1.0,0.8846153846153847,0.14516129032258066,0.33333333333333337,0.10390848427073403,0.0,0.24050632911392406,0.19047619047619047,0.06060606060606061,1.0,1.0000000000000002,1.0000000000000002,0.0
Bug,Refactor current collection and connection code to quickly fix our current read issues,"The refactor into our new functional framework is taking longer than anticipated.  We should quickly adapt our current 2.0 implementation to resolve this issue, then fix it properly in the USERGRID-494 issue.",3.0,0,0.0,0.9505494505494506,0.932258064516129,0.8133333333333334,0.9656816015252622,0.0,0.7848101265822784,0.5714285714285714,0.5909090909090909,0.3529411764705882,0.5301204819277109,0.5301204819277109,0.0
Story,Write/Review Test Framework Guide,"Task for writing up how the current REST test framework behaves and what expectations are for new tests.

We should have 90 minutes web conf where we record how we go about doing the tests, to review a 'good' test, a 'bad' test and a test that is not on the current framework.",1.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,1.0,1.0000000000000002,1.0000000000000002,0.0
Story,Querying by application name in rest test framework doesn't work," 
The following call doesn't work 

management().orgs().organization( clientSetup.getOrganizationName() )
                        .app().addToPath( clientSetup.getAppName())

but this call does

management().orgs().organization( clientSetup.getOrganizationName() )
                        .app().addToPath( clientSetup.getAppUuid())

The reason being it seems like the application name under the management side also includes the org name as part of its identify but when forming rest calls it doesn't work. Thats why when the name doesn't work the uuid still does . Ideally it should just have the application name as part of its identity. ",3.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,0.14705882352941177,0.44578313253012053,0.44578313253012053,0.0
Story,Convert BasicIT over to new rest test framework,Convert,2.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,0.14705882352941177,0.44578313253012053,0.44578313253012053,0.0
Bug,More than 10 apps will not be returned for organizations,"When we have more than 10 apps, we cannot return them due to bugs in the PagingResults Iterator.  Refactor this to work correctly.  In the process, we should also refactor the repair logic to work when reading connected entities as well as collections.",1.0,0,0.0,0.9505494505494506,0.932258064516129,0.8133333333333334,0.9656816015252622,0.0,0.7848101265822784,0.5714285714285714,0.5909090909090909,0.3529411764705882,0.5301204819277109,0.5301204819277109,0.0
Bug,Create app has stopped returning new apps,"When creating a new app, no error is returned.  However, the app never appears in the portal.  Investigate and fix this issue.",3.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.5238095238095237,0.5909090909090909,0.3529411764705882,0.5301204819277109,0.5301204819277109,0.0
Story,Update index aliases to be created atomically,"Currently, we move our index aliases in multiple steps.  This can lead to inconsistent alias state if fail during one of these operations.  Our alias operation should perform a single swap command.  We should perform the following during index allocation.

# Create the target index successfully
# Issue a single http call that will move the write alias, and add the read alias to the new index, per this HTTP command equivalent.

http://www.elastic.co/guide/en/elasticsearch/reference/current/indices-aliases.html#indices-aliases
",1.0,0,0.0,0.9505494505494506,0.932258064516129,0.8133333333333334,0.9656816015252622,0.0,0.7848101265822784,0.5714285714285714,0.5909090909090909,0.3529411764705882,0.5301204819277109,0.5301204819277109,0.0
Story,"CLONE - Could not retrieve unique value for field name, unable to verify","2015-02-16 05:33:23,590 [http-bio-8080-exec-313] ERROR org.apache.usergrid.rest.exceptions.AbstractExceptionMapper- java.lang.RuntimeException Server Error (500)
java.lang.RuntimeException: Could not retrieve unique value for field name, unable to verify
        at org.apache.usergrid.persistence.collection.mvcc.stage.write.WriteUniqueVerify.call(WriteUniqueVerify.java:167)
        at org.apache.usergrid.persistence.collection.mvcc.stage.write.WriteUniqueVerify.call(WriteUniqueVerify.java:58)
        at rx.Observable$12.onNext(Observable.java:4036)
        at rx.internal.operators.OperatorDoOnEach$1.onNext(OperatorDoOnEach.java:61)
        at rx.Observable$3.call(Observable.java:1551)
        at rx.Observable$3.call(Observable.java:1546)
        at rx.Observable.unsafeSubscribe(Observable.java:6839)
        at rx.internal.operators.OperatorSubscribeOn$1$1.call(OperatorSubscribeOn.java:60)
        at rx.internal.schedulers.ScheduledAction.run(ScheduledAction.java:43)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)
        at java.util.concurrent.FutureTask.run(FutureTask.java:166)
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:178)
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:292)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at java.lang.Thread.run(Thread.java:722)
Caused by: rx.exceptions.OnErrorThrowable$OnNextValue: OnError while emitting onNext value: CollectionIoEvent.class
        at rx.exceptions.OnErrorThrowable.addValueAsLastCause(OnErrorThrowable.java:98)
        at rx.internal.operators.OperatorDoOnEach$1.onNext(OperatorDoOnEach.java:63)
        ... 13 more
2015-02-16 05:33:23,590 [http-bio-8080-exec-313] ERROR org.apache.usergrid.rest.exceptions.AbstractExceptionMapper- Server Error (500):
{""error"":""runtime"",""timestamp"":1424064803590,""duration"":0,""error_description"":""Could not retrieve unique value for field name, unable to verify"",""exception"":""java.lang.RuntimeException""}
2015-02-16 05:33:23,600 [http-bio-8080-exec-488] ERROR org.apache.usergrid.rest.exceptions.ThrowableMapper- An uncaught exception occurred during HTTP invocation
java.lang.RuntimeException: Could not retrieve unique value for field name, unable to verify
        at org.apache.usergrid.persistence.collection.mvcc.stage.write.WriteUniqueVerify.call(WriteUniqueVerify.java:167)
        at org.apache.usergrid.persistence.collection.mvcc.stage.write.WriteUniqueVerify.call(WriteUniqueVerify.java:58)
        at rx.Observable$12.onNext(Observable.java:4036)
        at rx.internal.operators.OperatorDoOnEach$1.onNext(OperatorDoOnEach.java:61)
        at rx.Observable$3.call(Observable.java:1551)
        at rx.Observable$3.call(Observable.java:1546)
        at rx.Observable.unsafeSubscribe(Observable.java:6839)
        at rx.internal.operators.OperatorSubscribeOn$1$1.call(OperatorSubscribeOn.java:60)
        at rx.internal.schedulers.ScheduledAction.run(ScheduledAction.java:43)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)
        at java.util.concurrent.FutureTask.run(FutureTask.java:166)
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:178)
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:292)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at java.lang.Thread.run(Thread.java:722)
Caused by: rx.exceptions.OnErrorThrowable$OnNextValue: OnError while emitting onNext value: CollectionIoEvent.class
        at rx.exceptions.OnErrorThrowable.addValueAsLastCause(OnErrorThrowable.java:98)",3.0,0,1.0,1.0,1.0,1.0,1.0,0.0,1.0,0.3333333333333333,0.4090909090909091,0.14705882352941177,0.08433734939759037,0.08433734939759037,0.0
Story,Update cloudformation to use dedicated elasticsearch master nodes,We should update our cloudformation scripts to use a dedicated master node for ES to more closely mirror suggestion production usage during stress testing.,1.0,0,0.0,0.9505494505494506,0.932258064516129,0.8133333333333334,0.9656816015252622,0.0,0.7848101265822784,0.5714285714285714,0.5909090909090909,0.3529411764705882,0.5301204819277109,0.5301204819277109,0.0
Bug,Long Pauses and Errors from ES on deleteByQuery,"When a single thread is doing PUTs against Usergrid, one after the other, ES can time out on deleteByQuery and block the caller.

The response time from Usergrid goes from 200ms to ~60s during this time.  Note that the error in ES logs indicates a 1 minute timeout.

[2015-03-10 17:37:42,947][DEBUG][action.deletebyquery     ] [res003sy] observer: timeout notification from cluster service. timeout setting [1m], time since start [1m]
[2015-03-10 17:37:42,947][DEBUG][action.deletebyquery     ] [res003sy] observer: timeout notification from cluster service. timeout setting [1m], time since start [1m]
[2015-03-10 17:37:42,948][DEBUG][action.deletebyquery     ] [res003sy] observer: timeout notification from cluster service. timeout setting [1m], time since start [1m]
[2015-03-10 17:37:42,948][DEBUG][action.deletebyquery     ] [res003sy] observer: timeout notification from cluster service. timeout setting [1m], time since start [1m]
[2015-03-10 17:37:42,949][DEBUG][action.deletebyquery     ] [res003sy] observer: timeout notification from cluster service. timeout setting [1m], time since start [1m]
[2015-03-10 17:37:42,949][DEBUG][action.deletebyquery     ] [res003sy] observer: timeout notification from cluster service. timeout setting [1m], time since start [1m]
[2015-03-10 17:37:43,007][DEBUG][action.deletebyquery     ] [res003sy] observer: timeout notification from cluster service. timeout setting [1m], time since start [1m]
[2015-03-10 17:37:43,008][DEBUG][action.deletebyquery     ] [res003sy] observer: timeout notification from cluster service. timeout setting [1m], time since start [1m]
[2015-03-10 17:37:43,008][DEBUG][action.deletebyquery     ] [res003sy] observer: timeout notification from cluster service. timeout setting [1m], time since start [1m]
[2015-03-10 17:37:43,008][DEBUG][action.deletebyquery     ] [res003sy] observer: timeout notification from cluster service. timeout setting [1m], time since start [1m]
[2015-03-10 17:37:43,008][DEBUG][action.deletebyquery     ] [res003sy] observer: timeout notification from cluster service. timeout setting [1m], time since start [1m]
[2015-03-10 17:37:43,008][DEBUG][action.deletebyquery     ] [res003sy] observer: timeout notification from cluster service. timeout setting [1m], time since start [1m]
[2015-03-10 17:37:43,008][DEBUG][action.deletebyquery     ] [res003sy] observer: timeout notification from cluster service. timeout setting [1m], time since start [1m]
[2015-03-10 17:37:43,012][DEBUG][action.deletebyquery     ] [res003sy] observer: timeout notification from cluster service. timeout setting [1m], time since start [1m]
[2015-03-10 17:37:43,013][DEBUG][action.deletebyquery     ] [res003sy] observer: timeout notification from cluster service. timeout setting [1m], time since start [1m]
[2015-03-10 17:37:43,013][DEBUG][action.deletebyquery     ] [res003sy] observer: timeout notification from cluster service. timeout setting [1m], time since start [1m]
[2015-03-10 17:37:43,013][DEBUG][action.deletebyquery     ] [res003sy] observer: timeout notification from cluster service. timeout setting [1m], time since start [1m]
[2015-03-10 17:37:43,013][DEBUG][action.deletebyquery     ] [res003sy] observer: timeout notification from cluster service. timeout setting [1m], time since start [1m]
[2015-03-10 17:37:43,013][DEBUG][action.deletebyquery     ] [res003sy] observer: timeout notification from cluster service. timeout setting [1m], time since start [1m]
[2015-03-10 17:37:43,013][DEBUG][action.deletebyquery     ] [res003sy] observer: timeout notification from cluster service. timeout setting [1m], time since start [1m]
[2015-03-10 17:37:43,072][DEBUG][action.deletebyquery     ] [res003sy] observer: timeout notification from cluster service. timeout setting [1m], time since start [1m]
[2015-03-10 17:37:43,073][DEBUG][action.deletebyquery     ] [res003sy] observer: timeout notification from cluster service. timeout setting [1m], time since start [1m]
[2015-03-10 17:37:43,073][DEBUG][action.deletebyquery     ] [res003sy] observer: timeout notification from cluster service. timeout setting [1m], time since start [1m]
[2015-03-10 17:37:43,073][DEBUG][action.deletebyquery",3.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,1.0000000000000002,1.0000000000000002,0.0
Story,Fix remaining graphite timers in CpEntityManager,Refactor of UG-454 where we move the timers into the constructor instead of being initialized in methods. ,1.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,0.14705882352941177,0.44578313253012053,0.44578313253012053,0.0
Bug,[SPIKE] Investigate geo location re-index failure,"When re-indexing entities that have a geo_location on it, the geo_field is missing.  We need to investigate why this is happening.",3.0,0,1.0,1.0,1.0,1.0,1.0,0.0,1.0,0.3333333333333333,0.4090909090909091,0.3529411764705882,0.5301204819277109,0.5301204819277109,0.0
Bug,Geospatial/Geolocation query results are not sorted by distance,"Geospatial ('within') query results are not sorted by distance.  We should sort by distance ascending by default.  This is now MongoDB handles the $near queries.

Please add a test to confirm sorting is done correctly.",3.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,1.0,1.0000000000000002,1.0000000000000002,0.0
Bug,Change ElasticSearch mapping behavior to be per index,"Currently it is not possible to share multiple usergrid instances on the same cluster.  This is due to our default mapping usage in elasticsearch.  We need to change the following.

# Stop putting default wildcard mappings based on the index prefix, while this should work, it appears it is not
# Change our settings so that when an index is created, the default mapping is applied per-index


Also during an index rebuild, if the write_alias exists, we will also want to explicitly update the mapping during this process.   This will allow us to do an online rebuild, without having to allocate a new write index and then merge.
",3.0,0,0.0,0.9505494505494506,0.932258064516129,0.8133333333333334,0.9656816015252622,0.0,0.7848101265822784,0.5714285714285714,0.5909090909090909,0.3529411764705882,0.5301204819277109,0.5301204819277109,0.0
Bug,Remove redundant appinfos collections in ManagementServiceImpl,"There is a flaw in the two-dot-o CpEntityManagerFactory.

The factory stores a collection of ""appinfo"" type entities, but the ManagementServiceImpl stores a redundant collection of ""application_info"" entities. 

The problem becomes evident when you try to delete an application. The application will only be deleted from the ""appinfos"" collection. When you call the management org/apps end-point you will still see the application because the end-point uses the ""application_infos"". 

To fix this:
- Ensure that only one collection is stored
- Add code to migrate the existing app information collections
",3.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.5238095238095237,0.5909090909090909,0.2647058823529412,0.3614457831325302,0.3614457831325302,0.0
Story,Implement Windows Raw Push Notifications for 1.0,Support for Raw Push Notifications for Windows platform needs to be added to the 1.0 code base.  A separate task can be created/assigned for 2.0.,3.0,0,1.0,1.0,1.0,1.0,1.0,0.0,1.0,0.3333333333333333,0.4090909090909091,1.0,1.0000000000000002,1.0000000000000002,0.0
Bug,Investigate ElasticSearch timeout such that a long-running GC does not pause all ES and Tomcat,"I have seen as many as 16 tomcat nodes pausing at the same time across the cluster.  I took a stack trace and have attached it.  

This one jumped out to me:
""http-bio-8080-exec-2"" daemon prio=10 tid=0x00007f0cbc003800 nid=0x20ff waiting on condition [0x00007f0d370dd000]
   java.lang.Thread.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait for  <0x00000007ee1de4d8> (a org.elasticsearch.common.util.concurrent.BaseFuture$Sync)
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:834)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedInterruptibly(AbstractQueuedSynchronizer.java:994)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1303)
	at org.elasticsearch.common.util.concurrent.BaseFuture$Sync.get(BaseFuture.java:274)
	at org.elasticsearch.common.util.concurrent.BaseFuture.get(BaseFuture.java:113)
	at org.elasticsearch.action.support.AdapterActionFuture.actionGet(AdapterActionFuture.java:45)
	at org.apache.usergrid.persistence.index.impl.EsEntityIndexImpl.search(EsEntityIndexImpl.java:357)
	at org.apache.usergrid.corepersistence.CpRelationManager.searchCollection(CpRelationManager.java:963)
	at org.apache.usergrid.corepersistence.CpEntityManager.searchCollection(CpEntityManager.java:624)
	at org.apache.usergrid.corepersistence.CpEntityManagerFactory.lookupApplication(CpEntityManagerFactory.java:433)
	at org.apache.usergrid.rest.organizations.OrganizationResource.getApplicationByName(OrganizationResource.java:137)
	at sun.reflect.GeneratedMethodAccessor113.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:601)
	at com.sun.jersey.server.impl.uri.rules.SubLocatorRule.dispatch(SubLocatorRule.java:197)
	at com.sun.jersey.server.impl.uri.rules.SubLocatorRule.invokeSubLocator(SubLocatorRule.java:183)
	at com.sun.jersey.server.impl.uri.rules.SubLocatorRule.accept(SubLocatorRule.java:110)
	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
	at com.sun.jersey.server.impl.uri.rules.SubLocatorRule.accept(SubLocatorRule.java:137)
	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
	at com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108)
	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
	at com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84)
	at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1542)
	at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1473)
	at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1419)
	at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1409)
	at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:409)
	at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:540)
	at com.sun.jersey.spi.container.servlet.ServletContainer.doFilter(ServletContainer.java:909)
	at com.sun.jersey.spi.container.servlet.ServletContainer.doFilter(ServletContainer.java:857)
	at com.sun.jersey.spi.container.servlet.ServletContainer.doFilter(ServletContainer.java:811)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449)
	at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365)
	at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90)
	at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83)
	at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383)
	at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362)
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:259)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.usergrid.rest.filters.ContentTypeFilter.doFilter(ContentTypeFilter.java:92)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:503)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1070)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314)
	- locked <0x00000007eda23278> (a org.apache.tomcat.util.net.SocketWrapper)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:722)

and Todd called out this one:
""collectiontasks-18"" daemon prio=10 tid=0x00007f0cfc004000 nid=0x21b7 waiting on condition [0x00007f0cb87c6000]
  java.lang.Thread.State: WAITING (parking)
at sun.misc.Unsafe.park(Native Method)
- parking to wait for  <0x00000007ed32ccf0> (a org.elasticsearch.common.util.concurrent.BaseFuture$Sync)
at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)
at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:834)
at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedInterruptibly(AbstractQueuedSynchronizer.java:994)
at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1303)
at org.elasticsearch.common.util.concurrent.BaseFuture$Sync.get(BaseFuture.java:274)
at org.elasticsearch.common.util.concurrent.BaseFuture.get(BaseFuture.java:113)
at org.elasticsearch.action.support.AdapterActionFuture.actionGet(AdapterActionFuture.java:45)
at org.apache.usergrid.persistence.index.impl.EsEntityIndexImpl.deletePreviousVersions(EsEntityIndexImpl.java:533)
at org.apache.usergrid.corepersistence.events.EntityVersionCreatedHandler.versionCreated(EntityVersionCreatedHandler.java:67)
at org.apache.usergrid.persistence.collection.impl.EntityVersionCreatedTask.fireEvents(EntityVersionCreatedTask.java:97)
at org.apache.usergrid.persistence.collection.impl.EntityVersionCreatedTask.call(EntityVersionCreatedTask.java:83)
at org.apache.usergrid.persistence.collection.impl.EntityVersionCreatedTask.call(EntityVersionCreatedTask.java:38)
at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)
at java.util.concurrent.FutureTask.run(FutureTask.java:166)
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
at java.lang.Thread.run(Thread.java:722)",3.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,1.0000000000000002,1.0000000000000002,0.0
Bug,SPIKE: UnexpectedEOF Error,"This happens occasionally under very light load: {u'fault': {u'faultstring': u'Unexpected EOF', u'detail': {u'errorcode': u'messaging.adaptors.http.UnexpectedEOF'}}}

This is not heavy load at all.  Will look for the server-side stack trace.",3.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,1.0000000000000002,1.0000000000000002,0.0
Story,[SPIKE] SMTP server that starts with the JVM for email rest verification,Current email verification is hard to do and requires some messy code. See if there is a better way to integrate that into the rest layer tests.,3.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.14705882352941177,0.44578313253012053,0.44578313253012053,0.0
Bug,"[SPIKE] Verify that during an ES re-index, existing documents are force updated","When running a reindex last night, documents that appeared in ES were not returned via search in the CandidateResultSet.  Deleting the document from ES and then re-indexing resolved the issue. We need to ensure we're updating existing documents that exist in ES during a re-index to force an index update for existing entities.
",3.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.3529411764705882,0.5301204819277109,0.5301204819277109,0.0
Technical task,Create test that proves the issue before making any rest tier changes,Make a rest test that shows when calling system/database/setup twice returns an exception.,1.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,0.14705882352941177,0.44578313253012053,0.44578313253012053,0.0
Bug,Cannot create collections due to new App Delete feature,"error_description: ""Cannot restore. Deleted Application not found: 7a7624db-bc61-11e4-a2af-12b4f5e28868""exception: ""org.apache.usergrid.persistence.exceptions.EntityNotFoundException""

seems like the app restore is intercepting the path that is used to create collections from the UI

Request URL:https://example.com/appservices/apigee-jwest/sandbox/?access_token=YWMtefpnELx7EeSlLXug...

or the UI isn't right",3.0,2.1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.5238095238095237,0.5909090909090909,0.2647058823529412,0.3614457831325302,0.3614457831325302,0.9950495049504949
Bug,Consider Not Logging this Exception,"This exception probably shouldn't be logged at ERROR.  Please consider logging it at DEBUG or not at all.

2015-02-25 02:35:55,795 [http-bio-8080-exec-2] ERROR org.apache.usergrid.services.AbstractCollectionService- Entity 7 unable to be created in collection saparticles
org.apache.usergrid.persistence.exceptions.DuplicateUniquePropertyExistsException: Entity saparticle requires that property named name be unique, value of 000000000000226126-2538 exists
	at org.apache.usergrid.corepersistence.CpEntityManager.handleWriteUniqueVerifyException(CpEntityManager.java:2556)
	at org.apache.usergrid.corepersistence.CpEntityManager.batchCreate(CpEntityManager.java:2483)
	at org.apache.usergrid.corepersistence.CpEntityManager.create(CpEntityManager.java:334)
	at org.apache.usergrid.corepersistence.CpEntityManager.create(CpEntityManager.java:280)
	at org.apache.usergrid.corepersistence.CpEntityManager.create(CpEntityManager.java:266)
	at org.apache.usergrid.corepersistence.CpRelationManager.createItemInCollection(CpRelationManager.java:746)
	at org.apache.usergrid.corepersistence.CpEntityManager.createItemInCollection(CpEntityManager.java:1325)
	at org.apache.usergrid.services.AbstractCollectionService.postCollection(AbstractCollectionService.java:369)
	at org.apache.usergrid.services.AbstractService.invokeCollection(AbstractService.java:720)
	at org.apache.usergrid.services.AbstractService.invoke(AbstractService.java:634)
	at org.apache.usergrid.services.AbstractService.invoke(AbstractService.java:544)
	at org.apache.usergrid.services.ServiceRequest.execute(ServiceRequest.java:226)
	at org.apache.usergrid.services.ServiceRequest.execute(ServiceRequest.java:193)
	at org.apache.usergrid.rest.applications.ServiceResource.executeServiceRequest(ServiceResource.java:251)
	at org.apache.usergrid.rest.applications.ServiceResource.executePost(ServiceResource.java:401)
	at sun.reflect.GeneratedMethodAccessor135.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:601)
	at com.sun.jersey.spi.container.JavaMethodInvokerFactory$1.invoke(JavaMethodInvokerFactory.java:60)
	at com.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$TypeOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:185)
	at com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75)
	at com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:302)
	at com.sun.jersey.server.impl.uri.rules.SubLocatorRule.accept(SubLocatorRule.java:137)
	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
	at com.sun.jersey.server.impl.uri.rules.SubLocatorRule.accept(SubLocatorRule.java:137)
	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
	at com.sun.jersey.server.impl.uri.rules.SubLocatorRule.accept(SubLocatorRule.java:137)
	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
	at com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108)
	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
	at com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84)
	at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1542)
	at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1473)
	at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1419)
	at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1409)
	at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:409)
	at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:540)
	at com.sun.jersey.spi.container.servlet.ServletContainer.doFilter(ServletContainer.java:909)
	at com.sun.jersey.spi.container.servlet.ServletContainer.doFilter(ServletContainer.java:857)
	at com.sun.jersey.spi.container.servlet.ServletContainer.doFilter(ServletContainer.java:811)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449)
	at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365)
	at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90)
	at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83)
	at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383)
	at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362)
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:259)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.usergrid.rest.filters.ContentTypeFilter.doFilter(ContentTypeFilter.java:92)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:503)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1070)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:722)
2015-02-25 02:35:55,799 [http-bio-8080-exec-2] ERROR org.apache.usergrid.services.AbstractCollectionService- Entity 8 unable to be created in collection saparticles
org.apache.usergrid.persistence.exceptions.DuplicateUniquePropertyExistsException: Entity saparticle requires that property named name be unique, value of 000000000000230926-3219 exists
	at org.apache.usergrid.corepersistence.CpEntityManager.handleWriteUniqueVerifyException(CpEntityManager.java:2556)
	at org.apache.usergrid.corepersistence.CpEntityManager.batchCreate(CpEntityManager.java:2483)
	at org.apache.usergrid.corepersistence.CpEntityManager.create(CpEntityManager.java:334)
	at org.apache.usergrid.corepersistence.CpEntityManager.create(CpEntityManager.java:280)
	at org.apache.usergrid.corepersistence.CpEntityManager.create(CpEntityManager.java:266)
	at org.apache.usergrid.corepersistence.CpRelationManager.createItemInCollection(CpRelationManager.java:746)
	at org.apache.usergrid.corepersistence.CpEntityManager.createItemInCollection(CpEntityManager.java:1325)
	at org.apache.usergrid.services.AbstractCollectionService.postCollection(AbstractCollectionService.java:369)
	at org.apache.usergrid.services.AbstractService.invokeCollection(AbstractService.java:720)
	at org.apache.usergrid.services.AbstractService.invoke(AbstractService.java:634)
	at org.apache.usergrid.services.AbstractService.invoke(AbstractService.java:544)
	at org.apache.usergrid.services.ServiceRequest.execute(ServiceRequest.java:226)
	at org.apache.usergrid.services.ServiceRequest.execute(ServiceRequest.java:193)
	at org.apache.usergrid.rest.applications.ServiceResource.executeServiceRequest(ServiceResource.java:251)
	at org.apache.usergrid.rest.applications.ServiceResource.executePost(ServiceResource.java:401)
	at sun.reflect.GeneratedMethodAccessor135.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:601)
	at com.sun.jersey.spi.container.JavaMethodInvokerFactory$1.invoke(JavaMethodInvokerFactory.java:60)
	at com.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$TypeOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:185)
	at com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75)
	at com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:302)
	at com.sun.jersey.server.impl.uri.rules.SubLocatorRule.accept(SubLocatorRule.java:137)
	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
	at com.sun.jersey.server.impl.uri.rules.SubLocatorRule.accept(SubLocatorRule.java:137)
	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
	at com.sun.jersey.server.impl.uri.rules.SubLocatorRule.accept(SubLocatorRule.java:137)
	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
	at com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108)
	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
	at com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84)
	at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1542)
	at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1473)
	at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1419)
	at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1409)
	at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:409)
	at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:540)
	at com.sun.jersey.spi.container.servlet.ServletContainer.doFilter(ServletContainer.java:909)
	at com.sun.jersey.spi.container.servlet.ServletContainer.doFilter(ServletContainer.java:857)
	at com.sun.jersey.spi.container.servlet.ServletContainer.doFilter(ServletContainer.java:811)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449)
	at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365)
	at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90)
	at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83)
	at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383)
	at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362)
	at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:259)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.usergrid.rest.filters.ContentTypeFilter.doFilter(ContentTypeFilter.java:92)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:503)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1070)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:722)",1.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,1.0,1.0000000000000002,1.0000000000000002,0.0
Story,Set Build Version to Java 8,"We're significantly behind our in our RX java implementation.  Before work on the EM/RM refactor work starts, we should upgrade to Java 8 to clean up our functional syntax, as well as upgrade to the latest RxJava for performance improvements.


We should evaluate missing functions we use in RX as Java 8 streams.  If we can re-create our operations as Java 8 streams, we should evaluate the performance of RX Java vs Java 8 streams, and pick the most performant solution.",3.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.3529411764705882,0.5301204819277109,0.5301204819277109,0.0
Story,Enable system properties for customizable keyspaces,"Keyspaces should be customizable for the usergrid system.  We need to implement the ability to set the keyspace based on system properties, as well as the current defaults.  We should implement this in the following way.

# Add these properties to the Cassandra Fig (or create a new fig configuration)
# Add the fig to the injector
# Reference the injector and the fig in the current EntityManager and CassandraService setup classes",3.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,0.3529411764705882,0.5301204819277109,0.5301204819277109,0.0
Story,Fix hotspot from continuous writes of entities (Shawn),"Currently, performing a continuous PUT in 2.0 under heavy load causes a hotspot in our cassandra data.  

Cause:

# Under load, entities can be PUT continuously
# Asynchronous cleanups run and delete previous versions
# These versions are retained in cassandra for long periods of time.  This causes severe row bloating before compaction occurs.

Solution:

For entity data, we only care about the current max version.  We should change this column family to store only the maximum data format.  We will need to keep the log of previous versions, so that we can bring ES into a consistent state
",1.0,0,0.0,0.9505494505494506,0.932258064516129,0.8133333333333334,0.9656816015252622,0.0,0.7848101265822784,0.5714285714285714,0.5909090909090909,0.3529411764705882,0.5301204819277109,0.5301204819277109,0.0
Story,Create UniqueIndexCleanup tool that works with 2.0,"Current instance of tools don't work correctly with 2.0. 

This should have a RESTful endpoint that is trigged with a PUT.  We should have something like this endpoint.

Check all unique values across the entire system => PUT /system/database/unqiuecheck
Check all unique values across a single applications => PUT /system/database/uniquecheck/[appid]
Check all unique values in a single collection => PUT /system/database/uniquecheck/[appid]/[collectionname]

Check a specific unique value for a collection.

PUT=> 
system/database/uniquecheck/[appid]/[collectionname]/[unique value]



The unique check will need to audit the unique index, and ensure that the unique value exists for the entity specified. If the entity does not exist, they should be removed.

I think we should implement specific property cleanup first, then implement the other operations as an input of Observables

",3.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,0.14705882352941177,0.44578313253012053,0.44578313253012053,0.0
Story,Fix Import Resource endpoint to use services to lookup import information,"It's not possible to perform standard collection/connection walking from org/app/import endpoints.  Fix this using overridden services.
",3.0,0,0.0,0.9505494505494506,0.932258064516129,0.8133333333333334,0.9656816015252622,0.0,0.7848101265822784,0.5714285714285714,0.5909090909090909,0.3529411764705882,0.5301204819277109,0.5301204819277109,0.0
Story,Migrate Import service tests to rest tests to better emulate end to end testing,Migrate relevant ImportCollectionIT and ImportServiceIT tests to the rest tier such that we have better end to end coverage of the system. Having all of our integration tests in the service tier means that there is still room for error when we go back up into the REST tier.,3.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,0.14705882352941177,0.44578313253012053,0.44578313253012053,0.0
Story,Clean up migration code (move from Core to CP),Refactor the data migrations to move from Core to Core Persistence for Entity Storage ,3.0,0,1.0,0.9505494505494506,0.932258064516129,0.8133333333333334,0.9656816015252622,0.0,0.7848101265822784,0.5714285714285714,0.5909090909090909,0.14705882352941177,0.08433734939759037,0.08433734939759037,0.0
Story,SQS QueueManager implementation,"The Usergrid QueueManager is pluggable. 
We would like to add an SQS implementation.",1.0,0,1.0,0.27472527472527475,0.1693548387096774,0.18666666666666668,0.25166825548141086,0.0,0.0,0.2857142857142857,0.16666666666666669,0.2647058823529412,0.3614457831325302,0.3614457831325302,0.0
Technical task,Ensure that all services that use amazon keys are using the same identifier for those amazon keys.,Currently the way notifications looks for access and secret keys is different from the way that export and import services look for keys. This needs to be changed so that we all look for the same name of the keys.,3.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,0.14705882352941177,0.44578313253012053,0.44578313253012053,0.0
Bug,Fix OwnershipResourceIT,Failing the contextualConnectionOwnership test everytime. The others pass.,1.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,0.14705882352941177,0.44578313253012053,0.44578313253012053,0.0
Story,Implement Superuser methods in Management Class for REST tests,"Implement Superuser methods in Management Class for REST tests

Implement superuser token methods also",3.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,0.3529411764705882,0.28915662650602414,0.28915662650602414,0.0
Story,Implement Admin User methods in Management Class for REST tests,"Implement Admin User methods in Management Class for REST tests. 
Ensure that AdminUsersIT test works.",3.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,0.3529411764705882,0.28915662650602414,0.28915662650602414,0.0
Bug,ES cursor errors should be translated for our users,"When advancing beyond a cursor's end, or passing an invalid cursor, the following error is returned to the user.

{code}
body=
{""error"":""elasticsearch_illegal_argument"",""timestamp"":1417654353286,""duration"":0,""error_description"":""Failed to decode scrollId"",""exception"":""org.elasticsearch.ElasticsearchIllegalArgumentException""}

{code}

We should catch this error, and return a friendlier error message to our users.",3.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.3529411764705882,0.5301204819277109,0.5301204819277109,0.0
Wish,Remove ARS Maquette font from Portal,"portal/css/arsmarquette/*
dist/usergrid-portal/css/arsmarquette/*
dist-cov/usergrid-portal/css/arsmarquette/*

These fonts are Copyright (c) ARS Type-Angus R. Shamal, 1999-2010. All rights reserved. Do we have a license to redistribute them?",2.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.5238095238095237,0.5909090909090909,0.0,0.0,0.0,0.0
Bug,two-dot-o: Error in Portal after entity create,"After an entity is created, the Portal attempts to load the entity but gets a 500 error from the server because it forms a bad URL with two slashes after the application is specified.",3.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.2647058823529412,0.3614457831325302,0.3614457831325302,0.0
Bug,Inconsistent missing resource status code,"Assuming valid credentials, I get a different status code depending on the authorization method.

Bearer token:

curl -X GET -i -H ""Accept: application/json"" -H ""Authorization: Bearer XXX"" 'http://localhost:8080/test-organization/test-app/dogs/fido'

404 error: Service resource not found


Client id & Secret:

curl -X GET -i -H ""Accept: application/json"" 'http://localhost:8080/test-organization/test-app/dogs/fido?client_id=XXX&client_secret=XXX'

HTTP/1.1 401 Unauthorized

Note: In both cases, the client receives the same body content:

{""error"":""service_resource_not_found"",""timestamp"":1412358355742,""duration"":0,""exception"":""org.apache.usergrid.services.exceptions.ServiceResourceNotFoundException"",""error_description"":""Service resource not found""}
",3.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.029411764705882353,0.0,0.0,0.0
Story,GET an non-exists entity by ID or Name throws 401 if no authorisation is required,"for example

get /sandbox/users/non-exist-username throws 401 error code

this is because below code
{code}
@Provider
public class ServiceResourceNotFoundExceptionMapper extends AbstractExceptionMapper<ServiceResourceNotFoundException> {

    @Override
    public Response toResponse( ServiceResourceNotFoundException e ) {
        if ( SubjectUtils.getSubjectUserId() == null ) {
            return toResponse( UNAUTHORIZED, e );
        }
        else {
            return toResponse( NOT_FOUND, e );
        }
    }
}
{code}",2.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,0.0,0.012048192771084338,0.012048192771084338,0.0
Bug,"Fix the ""test 10 app limit"" test in the two-dot-o branch","This test fails because it fails to account for default apps created by the test framework. Also, do we need to enforce a 10 app limit in Usergrid?

  ApplicationsIT.test10AppLimit:84 All elements removed expected:<0> but was:<3>

The test method above has been marked as Ignore.

To fix this bug you should re-enable the test above and then fix the test to properly check the 10 app limit.",3.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.5238095238095237,0.5909090909090909,0.2647058823529412,0.3614457831325302,0.3614457831325302,0.0
Bug,SaveCollectionMembers in Export does not correctly export all entity data,"The saveConnections() and saveDictionaries() methods are called at the end of SaveCollectionMembers() in file ExportServiceImpl.java  
but if collection for an entity was null, then it would just return and not export the connections and dictionaries for that particular entity, thus calling these functions in the start of the method ensures, that all connections and dictionaries are always exported.",3.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.5238095238095237,0.5909090909090909,0.029411764705882353,0.0,0.0,0.0
Bug,the result from the Setup call (to setup DB) should not say OK when it failed to create KS (or other critical failure),"**Need to verify that this is still an issue

""When the /setup call is run and create UG keyspaces, they could fail (for various reason). 

However, it seems in the result from the call, the status always says OK: 

{panel} 
[root@rut000ea lib]# curl -u superuser:supervisor 0:8080/system/database/setup 
\{ 
""""action"""" : """"cassandra setup"""", 
""""status"""" : """"ok"""", 
""""timestamp"""" : 1383342928369, 
""""duration"""" : 65 
\} 
{panel} 

Here is 1 way to reproduce this problem: in the usergrid properties, define to use NetworkTopologyStrategy AND replication_factor: 

{panel} 
cassandra.keyspace.strategy.options.replication_factor=3 
cassandra.keyspace.strategy.options.us-east=3 
cassandra.keyspace.strategy=org.apache.cassandra.locator.NetworkTopologyStrategy 
{panel} 

In C* 1.2, it becomes stricter on the options used (previously a warning). The above combination of the strategy options is invalid for NetworkTopologyStrategy, and will result in failure of creating the keyspace. 

Hence the status result from the setup call should reflect it.""",3.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.14705882352941177,0.08433734939759037,0.08433734939759037,0.0
Bug,Cannot delete an entity that has a connection to it,"""To repro, attempt to delete an entity that has a connection to it such as: curl -X DELETE """"https://api.com/fdsafdsa/testapp/dog/Dachsund"""" 

Notice that you get error message: 
{""""error"""":""""class_cast"""",""""timestamp"""":1386200483978,""""duration"""":0,""""exception"""":""""java.lang.ClassCastException"""",""""error_description"""":""""org.usergrid.persistence.cassandra.ConnectedEntityRefImpl cannot be cast to org.usergrid.persistence.cassandra.ConnectionRefImpl""""} 

It is expected that the entity is deleted and the connection is deleted as well.""",3.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.3037974683544304,1.0,1.0,0.14705882352941177,0.08433734939759037,0.08433734939759037,0.0
Bug,Empty string doesn't remove an entity property (null doesn't work either),"""Users should be able to remove entity properties using either empty string or null 

1. Test to see if either works 
2. if empty string does not work, then setting empty string should keep the property but set it to an empty string 
3. null should always remove the key 


curl -X POST -i -H """"Authorization: Bearer YWMt4i6fzEJREeOh0FGOwhrLOAAAAUIzm9d9wtwQTdewhc1I1Kg8d8yyMOVVQv0"""" """"htts://api.usergrid.com/1hotrod/fdfdsafd/books/8dd42b7a-4325-11e3-a8a9-2be66bc83082?ql="""" -d '{""""fred"""":""""""""}' 

or 

curl -X POST -i -H """"Authorization: Bearer YWMt4i6fzEJREeOh0FGOwhrLOAAAAUIzm9d9wtwQTdewhc1I1Kg8d8yyMOVVQv0"""" """"htts://api.usergrid.com/1hotrod/fdfdsafd/books/8dd42b7a-4325-11e3-a8a9-2be66bc83082?ql="""" -d '{""""fred"""":null}'""",3.0,0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.047619047619047616,0.015151515151515152,0.14705882352941177,0.08433734939759037,0.08433734939759037,0.0
